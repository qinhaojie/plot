{"version":3,"sources":["webpack:///app.js","webpack:///./app/js/chart/util.js","webpack:///./app/js/chart/element/shape/base.js","webpack:///./~/.1.1.1@events/events.js","webpack:///./app/js/chart/element/shape/shapes/line.js","webpack:///./app/js/chart/element/shape/shapes/point.js","webpack:///./app/js/chart/element/shape/shapes/segment.js","webpack:///./app/js/chart/element/element.js","webpack:///./app/js/chart/element/relation/relations/verticalLine.js","webpack:///./app/js/chart/element/shape/index.js","webpack:///./app/js/chart/manager/manager.js","webpack:///./app/js/app.js","webpack:///./app/js/chart/element/relation/base.js","webpack:///./app/js/chart/element/relation/index.js","webpack:///./app/js/chart/element/relation/relations/parallelLine.js","webpack:///./app/js/chart/element/shape/shapes/angle.js","webpack:///./app/js/chart/element/shape/shapes/func.js","webpack:///./app/js/chart/element/shape/shapes/polygon.js","webpack:///./app/js/chart/element/shape/shapes/straight.js","webpack:///./app/js/chart/index.js","webpack:///./app/js/chart/manager/index.js","webpack:///./app/js/chart/manager/managers/relationManager.js","webpack:///./app/js/chart/manager/managers/shapeManager.js"],"names":["webpackJsonp","module","exports","__webpack_require__","Object","defineProperty","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","util","distance","_ref","_ref2","_ref4","x0","y0","_ref3","x1","y1","Math","sqrt","pow","approximate","number","x","ceil","uniqueId","Date","getTime","vectorAngle","vectorA","vectorB","acos","default","_interopRequireDefault","obj","__esModule","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_events","_util","_util2","_element","_element2","gClassName","Base","_Element","manager","config","arguments","this","_this","apply","setMaxListeners","isDrew","id","chart","scaleX","scaleY","graph","width","layout","w","height","h","relations","that","drawCall","draw","on","shape","console","log","bindEvent","endCurrentElement","emit","p","isHover","group","classed","activeClassName","append","attr","dx","dy","uxPerPx","uyPerPx","relation","r","indexOf","splice","remove","forEach","destroy","removeListener","removeShapeRef","EventEmitter","_maxListeners","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","n","isNaN","type","er","handler","len","args","listeners","error","Error","context","slice","addListener","listener","m","newListener","warned","trace","once","g","fired","list","position","removeAllListeners","ret","listenerCount","evlistener","emitter","_base","_base2","_point","_segment","Line","_Base","_ref$data","data","_ref$color","color","_ref$r","_ref$stroke","stroke","autoDraw","points","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","point","coordinate","addByConfig","return","name","shapes","necessaryShape","Infinity","shapeNames","keys","buildDom","getPoints","path","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_step2$value","y","map","getData","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","move","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","moveEnd","shapeInNecessary","shapeInAdded","checkEnd","_this2","bind","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_toConsumableArray","arr2","from","className","Point","lastCoordinate","_getData","_getData2","tip","text","dom","style","proxyDom","proxyClassName","_get$call","_get$call2","s","concat","Segment","document","getElementById","parentElement","insertBefore","proxyPathWidth","_getPoints","_getPoints2","p1","p2","_events2","Element","_Event","container","domin","includes","fullName","getFullName","ns","split","end","_base3","VerticalLine","straight_segment","l","k","fun","straight","segment","angle","polygon","line","func","_func","_func2","_point2","_line","_line2","_polygon","_polygon2","_angle","_angle2","_segment2","_straight","_straight2","Manager","types","elements","start","currentElement","focus","blur","element","addElement","typeName","blurAll","$","_index","_index2","a","xAxes","domain","yAxes","content","box","setMode","Relation","addRelation","isEnd","insert","_this3","removeRelation","removeElementRef","parallelLine","verticalLine","_verticalLine","_verticalLine2","_parallelLine","_parallelLine2","ParallelLine","_VertivalLine","Angle","_Line","options","_step$value","angleArc","angleText","_points$1$getData","_points$1$getData2","theta","getAngleValue","getPointOverVectorByLength","PI","p3","v","atan2","cos","sin","d3","Func","lastdx","lastdy","genarator","pointNumber","range","invert","d","lastK","py","isFinite","abs","Polygon","last","Straight","_Segment","_getPoints3","_getPoints4","_interopRequireWildcard","newObj","hasOwnProperty","_events3","isPc","body","ontouchstart","event","down","up","Chart","_ref$container","_ref$xAxes","_ref$yAxes","_ref$content","mode","margin","top","right","bottom","left","clientWidth","clientHeight","scale","linear","limitZoom","shapeMap","init","relationManager","shapeManager","translateContent","svg","select","canvas","buildAxes","buildAuxline","_add","window","c","axesX","axis","orient","axesY","ticks","auxLines","updateX","selectAll","enter","exit","updateY","zoom","behavior","reBuildAxes","rect","_loop","e","controller","preventDefault","getMouse","ctrl","lastTarget","focusTarget","activeTarget","dragStart","dragStartPoint","_getMouse","_getMouse2","getSelect","_dragStartPoint","px","isContact","mouse","_this4","_relationManager","_relationManager2","_shapeManager","_shapeManager2","_manager","_manager2","rManager","_Manager","stopElement","startElement","addShape","sManager","processPoints"],"mappings":"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","file":"app.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(13);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar util = {\n\t\n\t    /**\n\t     * 2点之间的距离\n\t     * @param x0\n\t     * @param y0\n\t     * @param x1\n\t     * @param y1\n\t     * @returns {number}\n\t     */\n\t    distance: function distance(_ref, _ref2) {\n\t        var _ref4 = _slicedToArray(_ref, 2),\n\t            x0 = _ref4[0],\n\t            y0 = _ref4[1];\n\t\n\t        var _ref3 = _slicedToArray(_ref2, 2),\n\t            x1 = _ref3[0],\n\t            y1 = _ref3[1];\n\t\n\t        return Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n\t    },\n\t\n\t    /**\n\t     * 近似到几位小数\n\t     * @param number\n\t     * @param approximate\n\t     * @returns {number}\n\t     */\n\t    approximate: function approximate(number, _approximate) {\n\t        _approximate = _approximate ? _approximate : 2;\n\t        var x = Math.pow(10, _approximate);\n\t        return Math.ceil(number * x) / x;\n\t    },\n\t\n\t    uniqueId: function () {\n\t        var i = new Date().getTime();\n\t        return function () {\n\t            return i++;\n\t        };\n\t    }(),\n\t\n\t    vectorAngle: function vectorAngle(vectorA, vectorB) {\n\t        return Math.acos((vectorA[0] * vectorB[0] + vectorA[1] * vectorB[1]) / (util.distance([0, 0], vectorA) * util.distance([0, 0], vectorB)));\n\t    }\n\t\n\t};\n\t\n\texports.default = util;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _events = __webpack_require__(3);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _element = __webpack_require__(9);\n\t\n\tvar _element2 = _interopRequireDefault(_element);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar gClassName = 'shape';\n\t\n\tvar Base = function (_Element) {\n\t    _inherits(Base, _Element);\n\t\n\t    function Base(manager) {\n\t        var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t        _classCallCheck(this, Base);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Base.__proto__ || Object.getPrototypeOf(Base)).apply(this, arguments));\n\t\n\t        _this.setMaxListeners(0);\n\t\n\t        _this.isDrew = false;\n\t        _this.id = config.id ? config.id : 'shape-' + _util2.default.uniqueId();\n\t\n\t        var chart = _this.chart;\n\t        _this.scaleX = chart.scaleX;\n\t        _this.scaleY = chart.scaleY;\n\t        _this.graph = chart.graph;\n\t        _this.width = chart.layout.w;\n\t        _this.height = chart.layout.h;\n\t\n\t        _this.relations = [];\n\t        var that = _this;\n\t\n\t        //此处不使用bind 是为了取消事件\n\t        // funA.bind(a) != funA.bind(a)\n\t        _this.drawCall = function () {\n\t            return that.draw();\n\t        };\n\t        chart.on('draw', _this.drawCall);\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Base, [{\n\t        key: 'addShape',\n\t        value: function addShape(shape) {\n\t            return _get(Base.prototype.__proto__ || Object.getPrototypeOf(Base.prototype), 'addShape', this).call(this, shape);\n\t        }\n\t    }, {\n\t        key: 'end',\n\t        value: function end() {\n\t            console.log('end');\n\t            this.bindEvent();\n\t            this.draw();\n\t            this.manager.endCurrentElement();\n\t        }\n\t    }, {\n\t        key: 'draw',\n\t        value: function draw() {\n\t\n\t            this.isDrew = true;\n\t            this.emit('draw');\n\t        }\n\t    }, {\n\t        key: 'isContact',\n\t        value: function isContact(p) {\n\t            return this.isHover;\n\t        }\n\t    }, {\n\t        key: 'focus',\n\t        value: function focus() {\n\t            this.group.classed(this.activeClassName, true);\n\t        }\n\t    }, {\n\t        key: 'blur',\n\t        value: function blur() {\n\t            this.group.classed(this.activeClassName, false);\n\t        }\n\t    }, {\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t            this.group = this.graph.append('g').attr('id', this.id).attr('class', gClassName);\n\t            var that = this;\n\t            this.group.on('mouseover', function () {\n\t                that.isHover = true;\n\t                // console.log(this,true)\n\t            }).on('mouseout', function () {\n\t                that.isHover = false;\n\t                // console.log(this,false)\n\t            });\n\t        }\n\t\n\t        /**\n\t         * 将客户端坐标转差值换为坐标系坐标差值\n\t         */\n\t\n\t    }, {\n\t        key: 'pxToUnit',\n\t        value: function pxToUnit(_ref) {\n\t            var _ref2 = _slicedToArray(_ref, 2),\n\t                dx = _ref2[0],\n\t                dy = _ref2[1];\n\t\n\t            var uxPerPx = this.scaleX(1) - this.scaleX(0); // px/unit\n\t            var uyPerPx = this.scaleY(1) - this.scaleY(0);\n\t\n\t            return [dx / uxPerPx, dy / uyPerPx];\n\t        }\n\t    }, {\n\t        key: 'addRelation',\n\t        value: function addRelation(relation) {\n\t            this.relations.push(relation);\n\t        }\n\t    }, {\n\t        key: 'removeRelation',\n\t        value: function removeRelation(r) {\n\t            var i = this.relations.indexOf(r);\n\t            if (i > -1) {\n\t                this.relations.splice(i, 1);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'destroy',\n\t        value: function destroy() {\n\t\n\t            this.group.remove();\n\t            this.relations.forEach(function (r) {\n\t                r.destroy();\n\t            });\n\t            this.relations = [];\n\t            this.chart.removeListener('draw', this.drawCall);\n\t            this.chart.removeShapeRef(this);\n\t        }\n\t    }, {\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {}\n\t    }, {\n\t        key: 'proxyClassName',\n\t        get: function get() {\n\t            return 'proxy';\n\t        }\n\t    }, {\n\t        key: 'activeClassName',\n\t        get: function get() {\n\t            return 'active';\n\t        }\n\t    }, {\n\t        key: 'proxyPathWidth',\n\t        get: function get() {\n\t            return 8;\n\t        }\n\t    }]);\n\t\n\t    return Base;\n\t}(_element2.default);\n\t\n\texports.default = Base;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function(n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n))\n\t    throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function(type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error ||\n\t        (isObject(this._events.error) && !this._events.error.length)) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler))\n\t    return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++)\n\t      listeners[i].apply(this, args);\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener)\n\t    this.emit('newListener', type,\n\t              isFunction(listener.listener) ?\n\t              listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;\n\t  else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);\n\t  else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' +\n\t                    'leak detected. %d listeners added. ' +\n\t                    'Use emitter.setMaxListeners() to increase limit.',\n\t                    this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type])\n\t    return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener ||\n\t      (isFunction(list.listener) && list.listener === listener)) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener ||\n\t          (list[i].listener && list[i].listener === listener)) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0)\n\t      return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events)\n\t    return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0)\n\t      this._events = {};\n\t    else if (this._events[type])\n\t      delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length)\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function(type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type])\n\t    ret = [];\n\t  else if (isFunction(this._events[type]))\n\t    ret = [this._events[type]];\n\t  else\n\t    ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function(type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener))\n\t      return 1;\n\t    else if (evlistener)\n\t      return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function(emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n\n/***/ },\n/* 4 */,\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _point = __webpack_require__(6);\n\t\n\tvar _point2 = _interopRequireDefault(_point);\n\t\n\tvar _segment = __webpack_require__(7);\n\t\n\tvar _segment2 = _interopRequireDefault(_segment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar className = 'line shape-line';\n\t\n\tvar Line = function (_Base) {\n\t    _inherits(Line, _Base);\n\t\n\t    function Line(manager) {\n\t        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t            _ref$data = _ref.data,\n\t            data = _ref$data === undefined ? [] : _ref$data,\n\t            _ref$color = _ref.color,\n\t            color = _ref$color === undefined ? 'none' : _ref$color,\n\t            _ref$r = _ref.r,\n\t            r = _ref$r === undefined ? 3 : _ref$r,\n\t            _ref$stroke = _ref.stroke,\n\t            stroke = _ref$stroke === undefined ? '#666' : _ref$stroke;\n\t\n\t        var autoDraw = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t        _classCallCheck(this, Line);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Line.__proto__ || Object.getPrototypeOf(Line)).apply(this, arguments));\n\t\n\t        _this.points = [];\n\t\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t            for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                var point = _step.value;\n\t\n\t\n\t                if (!point.coordinate) {\n\t\n\t                    point = manager.addByConfig('point', {\n\t                        data: point\n\t                    });\n\t                }\n\t\n\t                _this.points.push(point);\n\t            }\n\t        } catch (err) {\n\t            _didIteratorError = true;\n\t            _iteratorError = err;\n\t        } finally {\n\t            try {\n\t                if (!_iteratorNormalCompletion && _iterator.return) {\n\t                    _iterator.return();\n\t                }\n\t            } finally {\n\t                if (_didIteratorError) {\n\t                    throw _iteratorError;\n\t                }\n\t            }\n\t        }\n\t\n\t        _this.color = color;\n\t        _this.r = r;\n\t        _this.stroke = stroke;\n\t\n\t        _this.name = 'line';\n\t\n\t        _this.shapes = {\n\t            point: []\n\t        };\n\t        _this.necessaryShape = {\n\t            point: Infinity\n\t        };\n\t        _this.shapeNames = Object.keys(_this.shapes);\n\t        _this.buildDom();\n\t        if (autoDraw) {\n\t\n\t            _this.draw();\n\t        }\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Line, [{\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t            _get(Line.prototype.__proto__ || Object.getPrototypeOf(Line.prototype), 'buildDom', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'draw',\n\t        value: function draw() {\n\t\n\t            // var path = this.getData();\n\t            //\n\t            // this.dom\n\t            //     .attr('d', path)\n\t            // this.proxyDom\n\t            //     .attr('d', path);\n\t            _get(Line.prototype.__proto__ || Object.getPrototypeOf(Line.prototype), 'draw', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'getData',\n\t        value: function getData() {\n\t            var p = this.getPoints();\n\t            var path = \"M\";\n\t            var _iteratorNormalCompletion2 = true;\n\t            var _didIteratorError2 = false;\n\t            var _iteratorError2 = undefined;\n\t\n\t            try {\n\t                for (var _iterator2 = p[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                    var _step2$value = _slicedToArray(_step2.value, 2),\n\t                        x = _step2$value[0],\n\t                        y = _step2$value[1];\n\t\n\t                    path = path + x + ' ' + y + ' ';\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError2 = true;\n\t                _iteratorError2 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                        _iterator2.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError2) {\n\t                        throw _iteratorError2;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return path;\n\t        }\n\t\n\t        /**\n\t         * 获取点的坐标\n\t         * @return [Array] [[x1,y1],[x2,y2]]\n\t         */\n\t\n\t    }, {\n\t        key: 'getPoints',\n\t        value: function getPoints() {\n\t            return this.points.map(function (point) {\n\t                return point.getData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'move',\n\t        value: function move(_ref2) {\n\t            var _ref3 = _slicedToArray(_ref2, 2),\n\t                dx = _ref3[0],\n\t                dy = _ref3[1];\n\t\n\t            var _iteratorNormalCompletion3 = true;\n\t            var _didIteratorError3 = false;\n\t            var _iteratorError3 = undefined;\n\t\n\t            try {\n\t                for (var _iterator3 = this.points[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t                    var point = _step3.value;\n\t\n\t                    point.move([dx, dy]);\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError3 = true;\n\t                _iteratorError3 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t                        _iterator3.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError3) {\n\t                        throw _iteratorError3;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'moveEnd',\n\t        value: function moveEnd() {\n\t            var _iteratorNormalCompletion4 = true;\n\t            var _didIteratorError4 = false;\n\t            var _iteratorError4 = undefined;\n\t\n\t            try {\n\t\n\t                for (var _iterator4 = this.points[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t                    var point = _step4.value;\n\t\n\t                    point.moveEnd();\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError4 = true;\n\t                _iteratorError4 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t                        _iterator4.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError4) {\n\t                        throw _iteratorError4;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addShape',\n\t        value: function addShape(shape) {\n\t            if (!this.shapeInNecessary(shape) || this.shapeInAdded(shape)) return false;\n\t            _get(Line.prototype.__proto__ || Object.getPrototypeOf(Line.prototype), 'addShape', this).call(this, shape);\n\t            this.points.push(shape);\n\t\n\t            this.checkEnd();\n\t        }\n\t    }, {\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {\n\t            var _this2 = this;\n\t\n\t            this.points.forEach(function (point) {\n\t                point.on('move', function () {\n\t                    this.draw();\n\t                    this.emit('move');\n\t                }.bind(_this2));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'end',\n\t        value: function end() {\n\t            var i = 0;\n\t            var _iteratorNormalCompletion5 = true;\n\t            var _didIteratorError5 = false;\n\t            var _iteratorError5 = undefined;\n\t\n\t            try {\n\t                for (var _iterator5 = this.points[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t                    var point = _step5.value;\n\t\n\t\n\t                    if (i > 0) {\n\t                        var segment = this.manager.addByConfig('segment', {\n\t                            data: [this.points[i - 1], point]\n\t                        });\n\t                    }\n\t                    i++;\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError5 = true;\n\t                _iteratorError5 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n\t                        _iterator5.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError5) {\n\t                        throw _iteratorError5;\n\t                    }\n\t                }\n\t            }\n\t\n\t            _get(Line.prototype.__proto__ || Object.getPrototypeOf(Line.prototype), 'end', this).call(this);\n\t        }\n\t    }]);\n\t\n\t    return Line;\n\t}(_base2.default);\n\t\n\texports.default = Line;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar className = 'circle shape-point';\n\t\n\tvar Point = function (_Base) {\n\t    _inherits(Point, _Base);\n\t\n\t    function Point(manager) {\n\t        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t            _ref$data = _ref.data,\n\t            data = _ref$data === undefined ? [] : _ref$data,\n\t            _ref$color = _ref.color,\n\t            color = _ref$color === undefined ? '#ccc' : _ref$color,\n\t            _ref$r = _ref.r,\n\t            r = _ref$r === undefined ? 6 : _ref$r,\n\t            _ref$stroke = _ref.stroke,\n\t            stroke = _ref$stroke === undefined ? '#666' : _ref$stroke;\n\t\n\t        var autoDraw = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t        _classCallCheck(this, Point);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Point.__proto__ || Object.getPrototypeOf(Point)).apply(this, arguments));\n\t\n\t        _this.coordinate = data;\n\t        _this.lastCoordinate = [data[0], data[1]];\n\t        _this.color = color;\n\t        _this.r = r;\n\t        _this.stroke = stroke;\n\t\n\t        _this.shapes = {\n\t            point: []\n\t        };\n\t        _this.necessaryShape = {\n\t            point: 1\n\t        };\n\t\n\t        _this.buildDom();\n\t\n\t        _this.name = 'point';\n\t\n\t        _this.shapeNames = [];\n\t\n\t        if (autoDraw) {\n\t            _this.draw();\n\t        }\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Point, [{\n\t        key: 'draw',\n\t        value: function draw() {\n\t            var _getData = this.getData(this.coordinate),\n\t                _getData2 = _slicedToArray(_getData, 2),\n\t                x = _getData2[0],\n\t                y = _getData2[1];\n\t\n\t            this.group.attr('transform', 'translate(' + x + ',' + y + ')');\n\t\n\t            this.tip.text(_util2.default.approximate(this.coordinate[0]) + ',' + _util2.default.approximate(this.coordinate[1]));\n\t\n\t            _get(Point.prototype.__proto__ || Object.getPrototypeOf(Point.prototype), 'draw', this).call(this);\n\t        }\n\t\n\t        //将坐标系坐标转换为客户端坐标\n\t\n\t    }, {\n\t        key: 'getData',\n\t        value: function getData(p) {\n\t            if (!p) {\n\t                p = this.coordinate;\n\t            }\n\t            var x = this.scaleX;\n\t            var y = this.scaleY;\n\t\n\t            return [x(p[0]), y(p[1])];\n\t        }\n\t    }, {\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t\n\t            if (this.dom) return;\n\t\n\t            _get(Point.prototype.__proto__ || Object.getPrototypeOf(Point.prototype), 'buildDom', this).call(this);\n\t\n\t            this.dom = this.group.append('circle').attr(\"class\", className).attr('fill', this.color).attr('stroke', this.stroke).attr('r', this.r).attr('cx', 0).attr('cy', 0);\n\t            this.tip = this.group.append('text').attr('dx', 3).attr('dy', -3).style('pointer-events', 'none');\n\t\n\t            this.proxyDom = this.group.append('circle').attr(\"class\", this.proxyClassName).attr('r', this.r + 5).attr('fill', 'rgba(0,0,0,0)').attr('stroke', 'rgba(0,0,0,0)');\n\t        }\n\t\n\t        // isContact(p) {\n\t        //     var r = 6;\n\t        //     return (util.distance(p, this.getData()) <= r)\n\t        // }\n\t\n\t    }, {\n\t        key: 'focus',\n\t        value: function focus() {\n\t            _get(Point.prototype.__proto__ || Object.getPrototypeOf(Point.prototype), 'focus', this).call(this);\n\t            this.dom.attr('fill', 'red');\n\t        }\n\t    }, {\n\t        key: 'blur',\n\t        value: function blur() {\n\t            _get(Point.prototype.__proto__ || Object.getPrototypeOf(Point.prototype), 'blur', this).call(this);\n\t            this.dom.attr('fill', this.color);\n\t        }\n\t    }, {\n\t        key: 'move',\n\t        value: function move(_ref2) {\n\t            var _ref3 = _slicedToArray(_ref2, 2),\n\t                dx = _ref3[0],\n\t                dy = _ref3[1];\n\t\n\t            var _get$call = _get(Point.prototype.__proto__ || Object.getPrototypeOf(Point.prototype), 'pxToUnit', this).call(this, [dx, dy]);\n\t\n\t            var _get$call2 = _slicedToArray(_get$call, 2);\n\t\n\t            dx = _get$call2[0];\n\t            dy = _get$call2[1];\n\t\n\t            this.coordinate[0] = this.lastCoordinate[0] + dx;\n\t            this.coordinate[1] = this.lastCoordinate[1] + dy;\n\t            this.draw();\n\t            this.emit('move');\n\t        }\n\t    }, {\n\t        key: 'moveEnd',\n\t        value: function moveEnd() {\n\t            this.lastCoordinate[0] = this.coordinate[0];\n\t            this.lastCoordinate[1] = this.coordinate[1];\n\t            this.emit('moveend');\n\t        }\n\t    }, {\n\t        key: 'addShape',\n\t        value: function addShape(s) {\n\t            this.coordinate = [].concat(_toConsumableArray(s.coordinate));\n\t            this.lastCoordinate = [].concat(_toConsumableArray(s.coordinate));\n\t            this.shapes.point.push(s);\n\t            this.checkEnd();\n\t        }\n\t    }, {\n\t        key: 'end',\n\t        value: function end() {\n\t            this.shapes.point[0].destroy();\n\t            _get(Point.prototype.__proto__ || Object.getPrototypeOf(Point.prototype), 'end', this).call(this);\n\t        }\n\t    }]);\n\t\n\t    return Point;\n\t}(_base2.default);\n\t\n\texports.default = Point;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _point = __webpack_require__(6);\n\t\n\tvar _point2 = _interopRequireDefault(_point);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar className = 'line shape-segment';\n\t\n\tvar Segment = function (_Base) {\n\t    _inherits(Segment, _Base);\n\t\n\t    function Segment(manager) {\n\t        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t            _ref$data = _ref.data,\n\t            data = _ref$data === undefined ? [] : _ref$data,\n\t            _ref$color = _ref.color,\n\t            color = _ref$color === undefined ? 'none' : _ref$color,\n\t            _ref$r = _ref.r,\n\t            r = _ref$r === undefined ? 3 : _ref$r,\n\t            _ref$stroke = _ref.stroke,\n\t            stroke = _ref$stroke === undefined ? '#666' : _ref$stroke;\n\t\n\t        var autoDraw = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t        _classCallCheck(this, Segment);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Segment.__proto__ || Object.getPrototypeOf(Segment)).apply(this, arguments));\n\t\n\t        _this.points = [];\n\t\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t            for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                var point = _step.value;\n\t\n\t\n\t                if (!point.coordinate) {\n\t\n\t                    point = manager.addByConfig('point', {\n\t                        data: point\n\t                    });\n\t                }\n\t\n\t                _this.points.push(point);\n\t            }\n\t        } catch (err) {\n\t            _didIteratorError = true;\n\t            _iteratorError = err;\n\t        } finally {\n\t            try {\n\t                if (!_iteratorNormalCompletion && _iterator.return) {\n\t                    _iterator.return();\n\t                }\n\t            } finally {\n\t                if (_didIteratorError) {\n\t                    throw _iteratorError;\n\t                }\n\t            }\n\t        }\n\t\n\t        _this.color = color;\n\t        _this.r = r;\n\t        _this.stroke = stroke;\n\t\n\t        _this.shapes = {\n\t            point: []\n\t        };\n\t        _this.necessaryShape = {\n\t            point: 2\n\t        };\n\t        _this.shapeNames = Object.keys(_this.shapes);\n\t\n\t        _this.buildDom();\n\t\n\t        _this.name = 'segment';\n\t\n\t        if (autoDraw) {\n\t            _this.draw();\n\t            _this.bindEvent();\n\t        }\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Segment, [{\n\t        key: 'draw',\n\t        value: function draw() {\n\t\n\t            var path = this.getData();\n\t\n\t            this.dom.attr('d', path);\n\t            this.proxyDom.attr('d', path);\n\t            _get(Segment.prototype.__proto__ || Object.getPrototypeOf(Segment.prototype), 'draw', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'getData',\n\t        value: function getData() {\n\t            var p = this.getPoints();\n\t            var path = \"M\";\n\t            var _iteratorNormalCompletion2 = true;\n\t            var _didIteratorError2 = false;\n\t            var _iteratorError2 = undefined;\n\t\n\t            try {\n\t                for (var _iterator2 = p[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                    var _step2$value = _slicedToArray(_step2.value, 2),\n\t                        x = _step2$value[0],\n\t                        y = _step2$value[1];\n\t\n\t                    path = path + x + ' ' + y + ' ';\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError2 = true;\n\t                _iteratorError2 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                        _iterator2.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError2) {\n\t                        throw _iteratorError2;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return path;\n\t        }\n\t\n\t        /**\n\t         * 获取点的坐标\n\t         * @return [Array] [[x1,y1],[x2,y2]]\n\t         */\n\t\n\t    }, {\n\t        key: 'getPoints',\n\t        value: function getPoints() {\n\t            return this.points.map(function (point) {\n\t                return point.getData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {\n\t            var _this2 = this;\n\t\n\t            this.points.forEach(function (point) {\n\t                point.on('move', function () {\n\t                    this.draw();\n\t                    this.emit('move');\n\t                }.bind(_this2));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t\n\t            if (this.dom) return;\n\t            _get(Segment.prototype.__proto__ || Object.getPrototypeOf(Segment.prototype), 'buildDom', this).call(this);\n\t\n\t            //path节点放在第一个点之前\n\t            var g = document.getElementById(this.id);\n\t            var point = this.points[0];\n\t\n\t            if (point) {\n\t                var p = document.getElementById(point.id);\n\t                p.parentElement.insertBefore(g, p);\n\t            }\n\t            this.dom = this.group.append('path').attr(\"class\", className).style('fill', this.color).attr('stroke', this.stroke);\n\t\n\t            this.tip = this.group.append('text').attr('dx', 3).attr('dy', -3);\n\t\n\t            this.proxyDom = this.group.append('path').attr(\"class\", this.proxyClassName).attr('stroke-width', this.proxyPathWidth).attr('fill', 'none').attr('stroke', 'rgba(0,0,0,0)');\n\t        }\n\t    }, {\n\t        key: 'move',\n\t        value: function move(_ref2) {\n\t            var _ref3 = _slicedToArray(_ref2, 2),\n\t                dx = _ref3[0],\n\t                dy = _ref3[1];\n\t\n\t            var _iteratorNormalCompletion3 = true;\n\t            var _didIteratorError3 = false;\n\t            var _iteratorError3 = undefined;\n\t\n\t            try {\n\t                for (var _iterator3 = this.points[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t                    var point = _step3.value;\n\t\n\t                    point.move([dx, dy]);\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError3 = true;\n\t                _iteratorError3 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t                        _iterator3.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError3) {\n\t                        throw _iteratorError3;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'moveEnd',\n\t        value: function moveEnd() {\n\t            var _iteratorNormalCompletion4 = true;\n\t            var _didIteratorError4 = false;\n\t            var _iteratorError4 = undefined;\n\t\n\t            try {\n\t\n\t                for (var _iterator4 = this.points[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t                    var point = _step4.value;\n\t\n\t                    point.moveEnd();\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError4 = true;\n\t                _iteratorError4 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t                        _iterator4.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError4) {\n\t                        throw _iteratorError4;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addShape',\n\t        value: function addShape(shape) {\n\t            if (!this.shapeInNecessary(shape) || this.shapeInAdded(shape)) return false;\n\t            _get(Segment.prototype.__proto__ || Object.getPrototypeOf(Segment.prototype), 'addShape', this).call(this, shape);\n\t            this.points.push(shape);\n\t\n\t            this.checkEnd();\n\t        }\n\t    }, {\n\t        key: 'k',\n\t        get: function get() {\n\t            var _getPoints = this.getPoints(),\n\t                _getPoints2 = _slicedToArray(_getPoints, 2),\n\t                p1 = _getPoints2[0],\n\t                p2 = _getPoints2[1];\n\t\n\t            return (p1[1] - p2[1]) / (p1[0] - p2[0]);\n\t        }\n\t    }]);\n\t\n\t    return Segment;\n\t}(_base2.default);\n\t\n\texports.default = Segment;\n\n/***/ },\n/* 8 */,\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _events = __webpack_require__(3);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Element = function (_Event) {\n\t    _inherits(Element, _Event);\n\t\n\t    function Element(manager) {\n\t        _classCallCheck(this, Element);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).apply(this, arguments));\n\t\n\t        _this.manager = manager;\n\t        _this.chart = manager.chart;\n\t        _this.container = _this.chart.graph;\n\t        _this.domin = {\n\t            x: [0, manager.chart.layout.w],\n\t            y: [0, manager.chart.layout.h]\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Element, [{\n\t        key: 'shapeInAdded',\n\t        value: function shapeInAdded(shape) {\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = this.shapeNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var name = _step.value;\n\t\n\t                    if (this.shapes[name].includes(shape)) {\n\t                        return true;\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator.return) {\n\t                        _iterator.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return false;\n\t        }\n\t    }, {\n\t        key: 'shapeInNecessary',\n\t        value: function shapeInNecessary(shape) {\n\t            var name = shape.name;\n\t            var fullName = this.getFullName(name);\n\t            return this.shapeNames.includes(fullName) && this.shapes[fullName].length < this.necessaryShape[fullName];\n\t        }\n\t\n\t        /**\n\t         * 意义：\n\t         *  例如在垂线中需要一个直线或者线段，存储在shapeNames当中的key为\n\t         * 'straight_segment',而传入的图形名字只是segment或者straight\n\t         * 这时候需要获取到完整的key\n\t         *\n\t         *\n\t         * @param String name 图形的名称\n\t         * @returns String 该图像名称在关系当中的名字\n\t         */\n\t\n\t    }, {\n\t        key: 'getFullName',\n\t        value: function getFullName(name) {\n\t            var _iteratorNormalCompletion2 = true;\n\t            var _didIteratorError2 = false;\n\t            var _iteratorError2 = undefined;\n\t\n\t            try {\n\t                for (var _iterator2 = this.shapeNames[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                    var n = _step2.value;\n\t\n\t                    var ns = n.split('_');\n\t                    if (ns.includes(name)) {\n\t                        return n;\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError2 = true;\n\t                _iteratorError2 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                        _iterator2.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError2) {\n\t                        throw _iteratorError2;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return '';\n\t        }\n\t    }, {\n\t        key: 'addShape',\n\t        value: function addShape(shape) {\n\t            if (!this.shapeInNecessary(shape) || this.shapeInAdded(shape)) return false;\n\t            this.shapes[this.getFullName(shape.name)].push(shape);\n\t        }\n\t    }, {\n\t        key: 'checkEnd',\n\t        value: function checkEnd() {\n\t            var _iteratorNormalCompletion3 = true;\n\t            var _didIteratorError3 = false;\n\t            var _iteratorError3 = undefined;\n\t\n\t            try {\n\t                for (var _iterator3 = this.shapeNames[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t                    var name = _step3.value;\n\t\n\t                    if (this.shapes[name].length < this.necessaryShape[name]) {\n\t                        return false;\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError3 = true;\n\t                _iteratorError3 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t                        _iterator3.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError3) {\n\t                        throw _iteratorError3;\n\t                    }\n\t                }\n\t            }\n\t\n\t            this.end();\n\t        }\n\t    }, {\n\t        key: 'end',\n\t        value: function end() {\n\t            throw new Error('end 未定义');\n\t        }\n\t    }]);\n\t\n\t    return Element;\n\t}(_events2.default);\n\t\n\texports.default = Element;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _base2 = __webpack_require__(14);\n\t\n\tvar _base3 = _interopRequireDefault(_base2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar VerticalLine = function (_base) {\n\t    _inherits(VerticalLine, _base);\n\t\n\t    function VerticalLine() {\n\t        _classCallCheck(this, VerticalLine);\n\t\n\t        var _this = _possibleConstructorReturn(this, (VerticalLine.__proto__ || Object.getPrototypeOf(VerticalLine)).apply(this, arguments));\n\t\n\t        _this.shapes = {\n\t            point: [],\n\t            straight_segment: []\n\t        };\n\t        _this.necessaryShape = {\n\t            point: 1,\n\t            straight_segment: 1\n\t        };\n\t        _this.shapeNames = Object.keys(_this.shapes);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(VerticalLine, [{\n\t        key: 'draw',\n\t        value: function draw() {\n\t            this.dom.attr('d', this.getData());\n\t        }\n\t    }, {\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t            if (this.dom) return;\n\t            _get(VerticalLine.prototype.__proto__ || Object.getPrototypeOf(VerticalLine.prototype), 'buildDom', this).call(this);\n\t            this.dom = this.group.append('path').classed('vertical-line', true);\n\t        }\n\t    }, {\n\t        key: 'getData',\n\t        value: function getData() {\n\t            var p = this.shapes.point[0].getData();\n\t            var l = this.shapes.straight_segment[0];\n\t            var k = -1 / l.k;\n\t\n\t            var fun = function fun(x) {\n\t                return k * x + p[1] - k * p[0];\n\t            };\n\t\n\t            var path = 'M';\n\t            if (k !== Infinity) {\n\t                this.domin.x.forEach(function (x) {\n\t\n\t                    path += x + ' ' + fun(x) + ' ';\n\t                });\n\t            } else {\n\t                path = 'M ' + p[0] + ' 0 ' + p[0] + ' ' + this.domin.y[1];\n\t            }\n\t\n\t            return path;\n\t        }\n\t    }, {\n\t        key: 'name',\n\t        get: function get() {\n\t            return 'verticalLine';\n\t        }\n\t    }]);\n\t\n\t    return VerticalLine;\n\t}(_base3.default);\n\t\n\texports.default = VerticalLine;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.straight = exports.segment = exports.angle = exports.polygon = exports.line = exports.point = exports.func = undefined;\n\t\n\tvar _func = __webpack_require__(18);\n\t\n\tvar _func2 = _interopRequireDefault(_func);\n\t\n\tvar _point = __webpack_require__(6);\n\t\n\tvar _point2 = _interopRequireDefault(_point);\n\t\n\tvar _line = __webpack_require__(5);\n\t\n\tvar _line2 = _interopRequireDefault(_line);\n\t\n\tvar _polygon = __webpack_require__(19);\n\t\n\tvar _polygon2 = _interopRequireDefault(_polygon);\n\t\n\tvar _angle = __webpack_require__(17);\n\t\n\tvar _angle2 = _interopRequireDefault(_angle);\n\t\n\tvar _segment = __webpack_require__(7);\n\t\n\tvar _segment2 = _interopRequireDefault(_segment);\n\t\n\tvar _straight = __webpack_require__(20);\n\t\n\tvar _straight2 = _interopRequireDefault(_straight);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.func = _func2.default;\n\texports.point = _point2.default;\n\texports.line = _line2.default;\n\texports.polygon = _polygon2.default;\n\texports.angle = _angle2.default;\n\texports.segment = _segment2.default;\n\texports.straight = _straight2.default;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t *\n\t * 管理的基类\n\t *\n\t *\n\t */\n\t// import * as relations from './../../relation/index.js';\n\t\n\tvar Manager = function () {\n\t    function Manager(chart, types) {\n\t        _classCallCheck(this, Manager);\n\t\n\t        this.chart = chart;\n\t        this.types = types;\n\t\n\t        /**\n\t         * 存储关系\n\t         * {\n\t         *  verticalLine : [],\n\t         * ...\n\t         * }\n\t         */\n\t        this.elements = {};\n\t        /**\n\t         * 新关系是否开始\n\t         */\n\t        this.start = false;\n\t\n\t        this.bindEvent();\n\t    }\n\t\n\t    _createClass(Manager, [{\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {\n\t            var _this = this;\n\t\n\t            this.chart.on('hover', function (shape) {\n\t                if (!_this.start) return;\n\t                if (_this.currentElement.shapeInNecessary(shape) && !_this.currentElement.shapeInAdded(shape)) {\n\t                    shape.focus();\n\t                }\n\t            });\n\t            this.chart.on('hoverout', function (shape) {\n\t                if (!_this.start) return;\n\t                if (!_this.currentElement.shapeInAdded(shape)) {\n\t                    shape.blur();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'addElement',\n\t        value: function addElement(element) {\n\t            var name = element.name;\n\t            if (!this.elements[name]) {\n\t                this.elements[name] = [];\n\t            }\n\t            this.elements[name].push(element);\n\t        }\n\t    }, {\n\t        key: 'startElement',\n\t        value: function startElement(type) {\n\t            this.start = true;\n\t\n\t            this.currentElement = new this.types[type](this);\n\t        }\n\t    }, {\n\t        key: 'stopElement',\n\t        value: function stopElement() {\n\t            this.start = false;\n\t            this.currentElement && this.currentElement.destroy();\n\t            this.currentElement = null;\n\t        }\n\t    }, {\n\t        key: 'endCurrentElement',\n\t        value: function endCurrentElement() {\n\t\n\t            this.addElement(this.currentElement);\n\t            this.currentElement = new this.types[this.typeName](this);\n\t            this.chart.blurAll();\n\t        }\n\t    }, {\n\t        key: 'removeElement',\n\t        value: function removeElement(element) {\n\t            element.destroy();\n\t        }\n\t    }, {\n\t        key: 'removeElementRef',\n\t        value: function removeElementRef(element) {\n\t            var name = element.name;\n\t            var i = this.elements[name].indexOf(element);\n\t            if (i > -1) {\n\t                this.elements[name].splice(i, 1);\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Manager;\n\t}();\n\t\n\texports.default = Manager;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar _index = __webpack_require__(21);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar a = new _index2.default({\n\t    container: document.getElementById('app'),\n\t    xAxes: {\n\t        domain: [-20.50, 20.50]\n\t    },\n\t    yAxes: {\n\t        domain: [-2, 2]\n\t    },\n\t    content: {\n\t\n\t        // point: [\n\t        //     {\n\t        //         data: [1, 0]\n\t        //     }\n\t        // ],\n\t        // straight: [\n\t        //     {\n\t        //         data: [\n\t        //             [1, 1],\n\t        //             [3, 1],\n\t\n\t\n\t        //         ],\n\t        //         id: '213123'\n\t        //     }\n\t        // ],\n\t        // polygon: [\n\t        //     {\n\t        //         data: [\n\t        //             [0, 1],\n\t        //             [1.5, 1.5],\n\t        //             [-1, 1.3],\n\t        //             [-2, 0]\n\t        //         ]\n\t        //     }\n\t        // ],\n\t        // angle: [\n\t        //     {\n\t        //         data: [\n\t        //             [-2.0, 1.1],\n\t        //             [1.2, 1.2],\n\t        //             [1.1, 0]\n\t        //         ]\n\t        //     }\n\t        // ]\n\t    }\n\t});\n\t\n\ta.draw();\n\t\n\tvar box = '\\n    <div id=\"box\">\\n    \\u9009\\u62E9\\u6A21\\u5F0F\\n    <select name=\"a\" id=\"limit\">\\n        <option value=\"move\">\\u79FB\\u52A8\\u4E0E\\u7F29\\u653E</option>\\n        <option value=\"relation.verticalLine\">\\u5782\\u7EBF</option>\\n        <option value=\"relation.parallelLine\">\\u5E73\\u884C\\u7EBF</option>\\n        <option value=\"addElement.point\">\\u70B9</option>\\n        <option value=\"addElement.segment\">\\u7EBF\\u6BB5</option>\\n        <option value=\"addElement.straight\">\\u76F4\\u7EBF</option>\\n        <option value=\"addElement.angle\">\\u89D2\\u5EA6</option>\\n        <option value=\"addElement.polygon\">\\u591A\\u8FB9\\u5F62</option>\\n    </select>\\n</div>\\n';\n\t$('body').append(box);\n\t$('#limit').on('change', function () {\n\t\n\t    a.setMode(this.value);\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8)))\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _element = __webpack_require__(9);\n\t\n\tvar _element2 = _interopRequireDefault(_element);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r = new relation('type') \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.begin()  \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 用户进行选择,选择完毕后生成图像\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.remove()\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.end()\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.addShape()\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.necessaryShape = {\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *      point:1,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *      segment_straight:1\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * }\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.shapes = {\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *      point : [Point],\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *      segment:[Segment]\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * }\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.shapeInAdded() bool\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * r.RelationShape = [Line]\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\t\n\t\n\tvar Relation = function (_Element) {\n\t    _inherits(Relation, _Element);\n\t\n\t    function Relation(manager) {\n\t        _classCallCheck(this, Relation);\n\t\n\t        return _possibleConstructorReturn(this, (Relation.__proto__ || Object.getPrototypeOf(Relation)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Relation, [{\n\t        key: 'addShape',\n\t        value: function addShape(shape) {\n\t            if (_get(Relation.prototype.__proto__ || Object.getPrototypeOf(Relation.prototype), 'addShape', this).call(this, shape) === false) return;\n\t\n\t            shape.addRelation(this);\n\t            this.checkEnd();\n\t        }\n\t    }, {\n\t        key: 'end',\n\t        value: function end() {\n\t            console.log('end');\n\t            this.isEnd = true;\n\t            this.buildDom();\n\t            this.bindEvent();\n\t            this.draw();\n\t            this.manager.endCurrentElement();\n\t        }\n\t    }, {\n\t        key: 'draw',\n\t        value: function draw() {\n\t            console.log('drew');\n\t        }\n\t    }, {\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t            this.group = this.container.insert('g', 'g:nth-child(2)').attr('class', 'relation');\n\t        }\n\t    }, {\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {\n\t            var _this2 = this;\n\t\n\t            var that = this;\n\t            this.drawCall = function () {\n\t                return that.draw.apply(that, arguments);\n\t            };\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = this.shapeNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var name = _step.value;\n\t\n\t                    this.shapes[name].forEach(function (shape) {\n\t                        //shape.on('move',this.draw.bind(this))\n\t                        shape.on('draw', _this2.drawCall);\n\t                    });\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator.return) {\n\t                        _iterator.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'destroy',\n\t        value: function destroy() {\n\t            var _this3 = this;\n\t\n\t            if (this.isEnd) {\n\t                this.group.remove();\n\t                var _iteratorNormalCompletion2 = true;\n\t                var _didIteratorError2 = false;\n\t                var _iteratorError2 = undefined;\n\t\n\t                try {\n\t                    for (var _iterator2 = this.shapeNames[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                        var name = _step2.value;\n\t\n\t                        this.shapes[name].forEach(function (shape) {\n\t                            shape.removeListener('draw', _this3.drawCall);\n\t                            shape.removeRelation(_this3);\n\t                        });\n\t                    }\n\t                } catch (err) {\n\t                    _didIteratorError2 = true;\n\t                    _iteratorError2 = err;\n\t                } finally {\n\t                    try {\n\t                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                            _iterator2.return();\n\t                        }\n\t                    } finally {\n\t                        if (_didIteratorError2) {\n\t                            throw _iteratorError2;\n\t                        }\n\t                    }\n\t                }\n\t\n\t                this.manager.removeElementRef(this);\n\t                this.shapes = null;\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Relation;\n\t}(_element2.default);\n\t\n\texports.default = Relation;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.parallelLine = exports.verticalLine = undefined;\n\t\n\tvar _verticalLine = __webpack_require__(10);\n\t\n\tvar _verticalLine2 = _interopRequireDefault(_verticalLine);\n\t\n\tvar _parallelLine = __webpack_require__(16);\n\t\n\tvar _parallelLine2 = _interopRequireDefault(_parallelLine);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.verticalLine = _verticalLine2.default;\n\texports.parallelLine = _parallelLine2.default;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _verticalLine = __webpack_require__(10);\n\t\n\tvar _verticalLine2 = _interopRequireDefault(_verticalLine);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ParallelLine = function (_VertivalLine) {\n\t    _inherits(ParallelLine, _VertivalLine);\n\t\n\t    function ParallelLine() {\n\t        _classCallCheck(this, ParallelLine);\n\t\n\t        return _possibleConstructorReturn(this, (ParallelLine.__proto__ || Object.getPrototypeOf(ParallelLine)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(ParallelLine, [{\n\t        key: 'getData',\n\t        value: function getData() {\n\t            var p = this.shapes.point[0].getData();\n\t            var l = this.shapes.straight_segment[0];\n\t            var k = l.k;\n\t\n\t            var fun = function fun(x) {\n\t                return k * x + p[1] - k * p[0];\n\t            };\n\t\n\t            var path = 'M';\n\t            if (k !== Infinity) {\n\t                this.domin.x.forEach(function (x) {\n\t\n\t                    path += x + ' ' + fun(x) + ' ';\n\t                });\n\t            } else {\n\t                path = 'M ' + p[0] + ' 0 ' + p[0] + ' ' + this.domin.y[1];\n\t            }\n\t\n\t            return path;\n\t        }\n\t    }, {\n\t        key: 'name',\n\t        get: function get() {\n\t            return 'parallelLine';\n\t        }\n\t    }]);\n\t\n\t    return ParallelLine;\n\t}(_verticalLine2.default);\n\t\n\texports.default = ParallelLine;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _line = __webpack_require__(5);\n\t\n\tvar _line2 = _interopRequireDefault(_line);\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Angle = function (_Line) {\n\t    _inherits(Angle, _Line);\n\t\n\t    function Angle(manager, options) {\n\t        _classCallCheck(this, Angle);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Angle.__proto__ || Object.getPrototypeOf(Angle)).apply(this, arguments));\n\t        //options.color = '#ccc';\n\t\n\t        _this.name = 'angle';\n\t\n\t        _this.necessaryShape = {\n\t            point: 3\n\t        };\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Angle, [{\n\t        key: 'getData',\n\t        value: function getData() {\n\t            var p = this.getPoints();\n\t            var path = \"M\";\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = p[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var _step$value = _slicedToArray(_step.value, 2),\n\t                        x = _step$value[0],\n\t                        y = _step$value[1];\n\t\n\t                    path = path + x + ' ' + y + ' ';\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator.return) {\n\t                        _iterator.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return path;\n\t        }\n\t    }, {\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t            _get(Angle.prototype.__proto__ || Object.getPrototypeOf(Angle.prototype), 'buildDom', this).call(this);\n\t            this.tip = this.group.append('g').style('pointer-events', 'none');\n\t            this.angleArc = this.tip.append('path').attr('id', 'text' + this.id).attr('stroke', '#000');\n\t            this.angleText = this.tip.append('text').attr('text-anchor', 'middle').append('textPath').attr('xlink:href', '#text' + this.id).attr('startOffset', '50%');\n\t        }\n\t    }, {\n\t        key: 'draw',\n\t        value: function draw() {\n\t            _get(Angle.prototype.__proto__ || Object.getPrototypeOf(Angle.prototype), 'draw', this).call(this);\n\t\n\t            var _points$1$getData = this.points[1].getData(),\n\t                _points$1$getData2 = _slicedToArray(_points$1$getData, 2),\n\t                x = _points$1$getData2[0],\n\t                y = _points$1$getData2[1];\n\t\n\t            var theta = this.getAngleValue();\n\t            var p1 = this.getPointOverVectorByLength(this.vectorA);\n\t            var p2 = this.getPointOverVectorByLength(this.vectorB);\n\t            this.tip.attr('transform', 'translate(' + x + ',' + y + ')');\n\t            this.angleArc.attr('d', function () {\n\t\n\t                return 'M' + p1[0] + ' ' + p1[1] + ',' + p2[0] + ' ' + p2[1];\n\t            });\n\t            this.angleText.text(_util2.default.approximate(180 * theta / Math.PI));\n\t        }\n\t    }, {\n\t        key: 'getAngleValue',\n\t        value: function getAngleValue() {\n\t            var _getPoints = this.getPoints(),\n\t                _getPoints2 = _slicedToArray(_getPoints, 3),\n\t                p1 = _getPoints2[0],\n\t                p2 = _getPoints2[1],\n\t                p3 = _getPoints2[2];\n\t\n\t            var vectorA = [p1[0] - p2[0], p1[1] - p2[1]];\n\t            var vectorB = [p3[0] - p2[0], p3[1] - p2[1]];\n\t\n\t            var theta = _util2.default.vectorAngle(vectorA, vectorB);\n\t            this.vectorA = vectorA;\n\t            this.vectorB = vectorB;\n\t            return theta;\n\t        }\n\t\n\t        /**\n\t         * 根据长度获取矢量上一点\n\t         * \n\t         * @param v 矢量\n\t         * @param l 长度\n\t         */\n\t\n\t    }, {\n\t        key: 'getPointOverVectorByLength',\n\t        value: function getPointOverVectorByLength(v, l) {\n\t            l = l ? l : 35;\n\t            var theta = Math.atan2(v[1], v[0]);\n\t            return [Math.cos(theta) * l, Math.sin(theta) * l];\n\t        }\n\t    }]);\n\t\n\t    return Angle;\n\t}(_line2.default);\n\t\n\texports.default = Angle;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(d3) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar className = 'line shape-func';\n\tvar proxyPathWidth = 15;\n\t\n\tvar Func = function (_Base) {\n\t    _inherits(Func, _Base);\n\t\n\t    function Func(chart) {\n\t        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t            _ref$data = _ref.data,\n\t            data = _ref$data === undefined ? function () {} : _ref$data,\n\t            _ref$color = _ref.color,\n\t            color = _ref$color === undefined ? '#000' : _ref$color;\n\t\n\t        _classCallCheck(this, Func);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Func.__proto__ || Object.getPrototypeOf(Func)).apply(this, arguments));\n\t\n\t        _this.fun = data;\n\t        _this.color = color;\n\t        _this.buildDom();\n\t        _this.dx = 0;\n\t        _this.dy = 0;\n\t        _this.lastdx = 0;\n\t        _this.lastdy = 0;\n\t\n\t        _this.name = 'func';\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Func, [{\n\t        key: 'draw',\n\t        value: function draw() {\n\t            var data = this.getData();\n\t            var path = this.genarator(data);\n\t            this.dom\n\t            // .datum(this.getData())\n\t            //  .attr('d', this.genarator.bind(this))\n\t            .attr('d', path);\n\t            this.proxyDom.attr('d', path);\n\t            _get(Func.prototype.__proto__ || Object.getPrototypeOf(Func.prototype), 'draw', this).call(this);\n\t        }\n\t    }, {\n\t        key: 'getData',\n\t        value: function getData() {\n\t\n\t            var pointNumber = this.width;\n\t            var that = this;\n\t            var x = this.scaleX;\n\t\n\t            var data = d3.range(pointNumber).map(function (i) {\n\t                return that.fun(x.invert(i) - that.dx - that.lastdx) + that.dy + that.lastdy;\n\t            });\n\t\n\t            return data;\n\t        }\n\t    }, {\n\t        key: 'genarator',\n\t        value: function genarator(d) {\n\t            var path = '';\n\t            var lastK = 1;\n\t            var x = this.scaleX;\n\t            var y = this.scaleY;\n\t            d.forEach(function (py, i) {\n\t                if (!isFinite(py)) return;\n\t\n\t                if (!path) {\n\t                    path = 'M' + i + ' ' + y(py);\n\t                }\n\t\n\t                var dy = py - d[i - 1];\n\t                var dx = x.invert(i) - x.invert(i - 1);\n\t                var k = dy / dx;\n\t\n\t                if (k / lastK < 0 && (Math.abs(k) > 1000 || Math.abs(lastK) > 1000)) {\n\t\n\t                    path += 'M ' + i + ' ' + y(py);\n\t                } else {\n\t                    path += 'L ' + i + ' ' + y(py);\n\t                }\n\t                lastK = k;\n\t            });\n\t            return path;\n\t        }\n\t    }, {\n\t        key: 'buildDom',\n\t        value: function buildDom() {\n\t\n\t            if (this.dom) return;\n\t            _get(Func.prototype.__proto__ || Object.getPrototypeOf(Func.prototype), 'buildDom', this).call(this);\n\t            this.dom = this.group.append('path').attr(\"class\", className);\n\t\n\t            this.proxyDom = this.group.append('path').attr(\"class\", this.proxyClassName).attr('stroke-width', this.proxyPathWidth).attr('fill', 'none').attr('stroke', 'rgba(0,0,0,0)');\n\t        }\n\t    }, {\n\t        key: 'move',\n\t        value: function move(_ref2) {\n\t            var _ref3 = _slicedToArray(_ref2, 2),\n\t                dx = _ref3[0],\n\t                dy = _ref3[1];\n\t\n\t            // this.group\n\t            //     .attr('transform', 'translate(' + dx + ',' + dy + ')')\n\t\n\t            var _get$call = _get(Func.prototype.__proto__ || Object.getPrototypeOf(Func.prototype), 'pxToUnit', this).call(this, [dx, dy]);\n\t\n\t            var _get$call2 = _slicedToArray(_get$call, 2);\n\t\n\t            this.dx = _get$call2[0];\n\t            this.dy = _get$call2[1];\n\t            this.draw();\n\t        }\n\t    }, {\n\t        key: 'moveEnd',\n\t        value: function moveEnd() {\n\t            this.lastdx += this.dx;\n\t            this.lastdy += this.dy;\n\t            var _ref4 = [0, 0];\n\t            this.dx = _ref4[0];\n\t            this.dy = _ref4[1];\n\t        }\n\t    }]);\n\t\n\t    return Func;\n\t}(_base2.default);\n\t\n\texports.default = Func;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _line = __webpack_require__(5);\n\t\n\tvar _line2 = _interopRequireDefault(_line);\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Polygon = function (_Line) {\n\t    _inherits(Polygon, _Line);\n\t\n\t    function Polygon(manager) {\n\t        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t        _classCallCheck(this, Polygon);\n\t\n\t        options.color = '#ccc';\n\t\n\t        var _this = _possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).apply(this, arguments));\n\t\n\t        _this.name = 'polygon';\n\t\n\t        // let segment = manager.addByConfig('segment', {\n\t        //     data: [\n\t        //         this.points[this.points.length-1],\n\t        //         this.points[0]\n\t        //     ]\n\t        // })\n\t        return _this;\n\t    }\n\t\n\t    // getData() {\n\t    //     var p = this.getPoints();\n\t    //     var path = \"M\";\n\t    //     for (let [x, y] of p) {\n\t    //         path = path + x + ' ' + y + ' ';\n\t    //     }\n\t    //     path += 'z';\n\t    //     return path;\n\t    // }\n\t\n\t    _createClass(Polygon, [{\n\t        key: 'checkEnd',\n\t        value: function checkEnd() {\n\t            if (this.points.length < 4) return;\n\t            var last = this.points.length - 1;\n\t            if (this.points[0] === this.points[last]) {\n\t                this.end();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'shapeInAdded',\n\t        value: function shapeInAdded(shape) {\n\t            if (this.points.length < 3) {\n\t                return _get(Polygon.prototype.__proto__ || Object.getPrototypeOf(Polygon.prototype), 'shapeInAdded', this).call(this, shape);\n\t            } else {\n\t                if (shape === this.points[0]) {\n\t                    return false;\n\t                } else {\n\t                    return _get(Polygon.prototype.__proto__ || Object.getPrototypeOf(Polygon.prototype), 'shapeInAdded', this).call(this, shape);\n\t                }\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Polygon;\n\t}(_line2.default);\n\t\n\texports.default = Polygon;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _segment = __webpack_require__(7);\n\t\n\tvar _segment2 = _interopRequireDefault(_segment);\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Straight = function (_Segment) {\n\t    _inherits(Straight, _Segment);\n\t\n\t    function Straight(chart, options) {\n\t        _classCallCheck(this, Straight);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Straight.__proto__ || Object.getPrototypeOf(Straight)).apply(this, arguments));\n\t        //options.color = '#ccc';\n\t\n\t        _this.name = 'straight';\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Straight, [{\n\t        key: 'getData',\n\t        value: function getData() {\n\t            var _getPoints = this.getPoints(),\n\t                _getPoints2 = _slicedToArray(_getPoints, 2),\n\t                p1 = _getPoints2[0],\n\t                p2 = _getPoints2[1];\n\t\n\t            var domain = this.chart.layout.w;\n\t            var k = (p1[1] - p2[1]) / (p1[0] - p2[0]);\n\t            var fun = function fun(x) {\n\t\n\t                return k * x + p1[1] - k * p1[0];\n\t            };\n\t            var p = [[0, fun(0)], [domain, fun(domain)]];\n\t            var path = \"M\";\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = p[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var _step$value = _slicedToArray(_step.value, 2),\n\t                        x = _step$value[0],\n\t                        y = _step$value[1];\n\t\n\t                    path = path + x + ' ' + y + ' ';\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator.return) {\n\t                        _iterator.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return path;\n\t        }\n\t\n\t        // buildDom() {\n\t\n\t        //     if (this.dom) return;\n\t        //     super.buildDom();\n\t\n\t        //     //path节点放在第一个点之前\n\t        //     var g = document.getElementById(this.id);\n\t        //     var point = this.points[0];\n\t\n\t        //     if (point) {\n\t        //         var p = document.getElementById(point.id);\n\t        //         p.parentElement.insertBefore(g,p)\n\t        //     }\n\t        //     this.dom = this.group\n\t        //         .append('path')\n\t        //         .attr(\"class\", className)\n\t        //         .style('fill', this.color)\n\t        //         .attr('stroke', this.stroke)\n\t\n\t        //         .attr('fill', 'none')\n\t        //         .attr('stroke', 'rgba(0,0,0,0)');\n\t        //     this.tip = this.group\n\t        //         .append('text')\n\t        //         .attr('dx', 3)\n\t        //         .attr('dy', -3)\n\t\n\t        //     this.proxyDom = this.group\n\t        //         .append('path')\n\t        //         .attr(\"class\", this.proxyClassName)\n\t        //         .attr('stroke-width', this.proxyPathWidth)\n\t\n\t        //         .attr('fill', 'none')\n\t        //         .attr('stroke', 'rgba(0,0,0,0)');\n\t\n\t        // }\n\t\n\t\n\t    }, {\n\t        key: 'k',\n\t        get: function get() {\n\t            var _getPoints3 = this.getPoints(),\n\t                _getPoints4 = _slicedToArray(_getPoints3, 2),\n\t                p1 = _getPoints4[0],\n\t                p2 = _getPoints4[1];\n\t\n\t            return (p1[1] - p2[1]) / (p1[0] - p2[0]);\n\t        }\n\t    }]);\n\t\n\t    return Straight;\n\t}(_segment2.default);\n\t\n\texports.default = Straight;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(d3) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _events2 = __webpack_require__(3);\n\t\n\tvar _events3 = _interopRequireDefault(_events2);\n\t\n\tvar _index = __webpack_require__(11);\n\t\n\tvar shape = _interopRequireWildcard(_index);\n\t\n\tvar _index2 = __webpack_require__(22);\n\t\n\tvar manager = _interopRequireWildcard(_index2);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar isPc = document.body.ontouchstart === undefined;\n\tvar event = {\n\t    down: isPc ? 'mousedown' : 'touchstart',\n\t    move: isPc ? 'mousemove' : 'touchmove',\n\t    up: isPc ? 'mouseup' : 'touchend'\n\t};\n\t\n\tvar Chart = function (_events) {\n\t    _inherits(Chart, _events);\n\t\n\t    function Chart() {\n\t        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t            _ref$container = _ref.container,\n\t            container = _ref$container === undefined ? document.body : _ref$container,\n\t            _ref$xAxes = _ref.xAxes,\n\t            xAxes = _ref$xAxes === undefined ? {\n\t            domain: [-10, 10]\n\t        } : _ref$xAxes,\n\t            _ref$yAxes = _ref.yAxes,\n\t            yAxes = _ref$yAxes === undefined ? {\n\t            domain: [-5, 5]\n\t        } : _ref$yAxes,\n\t            _ref$content = _ref.content,\n\t            content = _ref$content === undefined ? {} : _ref$content;\n\t\n\t        var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'move';\n\t\n\t        _classCallCheck(this, Chart);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Chart.__proto__ || Object.getPrototypeOf(Chart)).call(this));\n\t\n\t        _this.container = container;\n\t        var margin = {\n\t            top: 20,\n\t            right: 40,\n\t            bottom: 20,\n\t            left: 40\n\t        },\n\t            width = container.clientWidth - margin.left - margin.right,\n\t            height = container.clientHeight - margin.top - margin.bottom;\n\t        _this.layout = {\n\t            w: width,\n\t            h: height,\n\t            margin: margin\n\t        };\n\t\n\t        _this.scaleX = d3.scale.linear().domain(xAxes.domain).range([0, width]);\n\t        _this.scaleY = d3.scale.linear().domain(yAxes.domain).range([height, 0]);\n\t\n\t        _this.limitZoom = false;\n\t\n\t        _this.mode = mode;\n\t\n\t        //取消对监听器数量的限制\n\t        _this.setMaxListeners(0);\n\t\n\t        /**\n\t         * 形状的索引\n\t         * 键值为形状id\n\t         */\n\t        _this.shapeMap = {};\n\t\n\t        _this.init();\n\t        _this.relationManager = new manager.relationManager(_this);\n\t        _this.shapeManager = new manager.shapeManager(_this);\n\t        _this.content = _this.shapeManager.elements;\n\t        _this.translateContent(content);\n\t\n\t        return _this;\n\t    }\n\t\n\t    //初始化画布\n\t\n\t\n\t    _createClass(Chart, [{\n\t        key: 'init',\n\t        value: function init() {\n\t            var margin = this.layout.margin;\n\t            var width = this.layout.w;\n\t            var height = this.layout.h;\n\t            var svg = d3.select(this.container).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom);\n\t\n\t            var canvas = svg.append(\"g\").attr('class', 'canvas').attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\t            canvas.append(\"defs\").append(\"clipPath\").attr(\"id\", \"clip\").append(\"rect\").attr(\"width\", width).attr(\"height\", height);\n\t\n\t            this.svg = svg;\n\t            this.canvas = canvas;\n\t\n\t            this.buildAxes();\n\t            this.buildAuxline();\n\t            this.graph = canvas.append('g').attr('class', 'graph').attr(\"clip-path\", \"url(#clip)\");\n\t            this.bindEvent();\n\t        }\n\t    }, {\n\t        key: 'translateContent',\n\t        value: function translateContent(content) {\n\t            var _this2 = this;\n\t\n\t            Object.keys(content).forEach(function (name, i) {\n\t\n\t                // this.content[name] = content[name].map(item => {\n\t                //     return new shape[name](this, item);\n\t                // });\n\t                content[name].forEach(function (config) {\n\t                    _this2._add(name, config);\n\t                });\n\t            });\n\t            window.c = this.content;\n\t        }\n\t    }, {\n\t        key: 'buildAxes',\n\t        value: function buildAxes() {\n\t            var x = this.scaleX;\n\t            var y = this.scaleY;\n\t            this.axesX = this.canvas.append(\"g\").attr(\"class\", \"x-axes axes\").attr(\"transform\", \"translate(0,\" + this.layout.h + \")\").call(d3.svg.axis().scale(x).orient(\"bottom\"));\n\t            this.axesY = this.canvas.append(\"g\").attr(\"class\", \"y-axes axes\").call(d3.svg.axis().scale(y).orient(\"left\"));\n\t        }\n\t\n\t        //网格线\n\t\n\t    }, {\n\t        key: 'buildAuxline',\n\t        value: function buildAuxline() {\n\t            var x = this.scaleX.ticks();\n\t            var y = this.scaleY.ticks();\n\t            if (!this.auxLines) {\n\t                this.auxLines = this.canvas.append('g').attr('class', 'aux-line');\n\t            }\n\t            var that = this;\n\t            var updateX = this.auxLines.selectAll('.aux-line-x').data(x);\n\t            updateX.enter().append('line').attr('class', 'aux-line-x');\n\t            updateX.exit().remove();\n\t            var updateY = this.auxLines.selectAll('.aux-line-y').data(y);\n\t            updateY.enter().append('line').attr('class', 'aux-line-y');\n\t            updateY.exit().remove();\n\t\n\t            this.auxLines.selectAll('.aux-line-x').attr('x1', function (d, i) {\n\t                return that.scaleX(d);\n\t            }).attr('x2', function (d, i) {\n\t                return that.scaleX(d);\n\t            }).attr('y1', that.layout.h).attr('y2', 0).attr('value', function (d) {\n\t                return d;\n\t            });\n\t\n\t            this.auxLines.selectAll('.aux-line-y').attr('y1', function (d, i) {\n\t                return that.scaleY(d);\n\t            }).attr('y2', function (d, i) {\n\t                return that.scaleY(d);\n\t            }).attr('x1', that.layout.w).attr('x2', 0).attr('value', function (d) {\n\t                return d;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'reBuildAxes',\n\t        value: function reBuildAxes() {\n\t            this.axesX.call(d3.svg.axis().scale(this.scaleX).orient(\"bottom\"));\n\t            this.axesY.call(d3.svg.axis().scale(this.scaleY).orient(\"left\"));\n\t        }\n\t    }, {\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {\n\t            var _this3 = this;\n\t\n\t            var zoom = this.zoom = d3.behavior.zoom();\n\t            this.zoom = zoom;\n\t            var that = this;\n\t            var tempScale = d3.scale.linear();\n\t            zoom.x(this.scaleX).y(this.scaleY).on('zoom', function () {\n\t\n\t                if (that.mode != 'move') {\n\t                    //zoom.x(tempScale).y(tempScale)\n\t\n\t                } else {\n\t                    //  zoom.x(that.scaleX).y(that.scaleY);\n\t                    that.reBuildAxes();\n\t                    that.draw();\n\t                    that.buildAuxline();\n\t                }\n\t            });\n\t\n\t            this.rect = this.graph.append('rect').attr('x', 0).attr('y', 0).attr('width', this.layout.w).attr('height', this.layout.h).attr('fill', 'none').attr('style', 'pointer-events: all;').call(zoom);\n\t\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                var _loop = function _loop() {\n\t                    var e = _step.value;\n\t\n\t\n\t                    d3.select(_this3.container).on(event[e], function () {\n\t\n\t                        var controller = {\n\t                            emit: true\n\t                        };\n\t                        //先触发内部绑定的事件\n\t                        that.emit('_' + event[e], controller);\n\t                        //内部事件对参数的赋值控制是否触发外部事件\n\t                        if (controller.emit == false) return;\n\t\n\t                        d3.event.preventDefault();\n\t                        that.emit(event[e], d3.event, that.getMouse());\n\t                    });\n\t                };\n\t\n\t                for (var _iterator = Object.keys(event)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    _loop();\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator.return) {\n\t                        _iterator.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            this.on('_' + event.down, function (ctrl) {\n\t                this.lastTarget = this.focusTarget;\n\t                this.focusTarget = this.activeTarget;\n\t                this.dragStart = false;\n\t                this.dragStartPoint = this.getMouse();\n\t                if (this.mode.indexOf('relation') < 0) {\n\t\n\t                    this.lastTarget && this.lastTarget.blur();\n\t                }\n\t\n\t                //选择到一个目标时候禁止缩放\n\t                if (this.mode == 'move' && this.focusTarget) {\n\t                    this.setMode('_move');\n\t                    this.dragStart = true;\n\t                }\n\t                if (this.focusTarget) {\n\t                    ctrl.emit = false;\n\t                    // this.focusTarget.focus();\n\t                    this.emit('choose', this.focusTarget);\n\t                } else {\n\t                    var _getMouse = this.getMouse(),\n\t                        _getMouse2 = _slicedToArray(_getMouse, 2),\n\t                        x = _getMouse2[0],\n\t                        y = _getMouse2[1];\n\t\n\t                    this.emit('clickBlank', [this.scaleX.invert(x), this.scaleY.invert(y)]);\n\t                }\n\t            });\n\t\n\t            this.on('_' + event.move, function (ctrl) {\n\t\n\t                if (!this.dragStart) {\n\t                    var target = this.getSelect(this.getMouse());\n\t\n\t                    //关系模式\n\t                    if (this.mode.indexOf('relation') > -1 || this.mode.indexOf('addElement') > -1) {\n\t\n\t                        if (!target && this.activeTarget) {\n\t                            this.emit('hoverout', this.activeTarget);\n\t                            this.activeTarget = null;\n\t                        } else if (target && target != this.activeTarget) {\n\t                            this.activeTarget && this.emit('hoverout', this.activeTarget);\n\t                            this.emit('hover', target);\n\t                            this.activeTarget = target;\n\t                        } else {\n\t                            this.activeTarget = target;\n\t                            target && this.emit('hover', target);\n\t                        }\n\t                    } else {\n\t                        if (target && target !== this.activeTarget) {\n\t                            this.activeTarget && this.activeTarget.blur();\n\t                            target.focus();\n\t                            this.activeTarget = target;\n\t                        }\n\t                        if (!target && this.activeTarget) {\n\t                            this.activeTarget.blur();\n\t                            this.activeTarget = null;\n\t                        }\n\t                    }\n\t                }\n\t\n\t                if (this.focusTarget && this.mode == '_move') {\n\t                    this.focusTarget.focus();\n\t                    this.dragStart && this.emit('dragtarget', this.focusTarget);\n\t                }\n\t            });\n\t\n\t            this.on('_' + event.up, function (ctrl) {\n\t\n\t                this.dragStart && this.emit('dragtargetend', this.focusTarget);\n\t                this.dragStart = false;\n\t                if (this.mode == '_move') {\n\t                    this.setMode('move');\n\t                }\n\t            });\n\t\n\t            this.on('dragtarget', function (target) {\n\t                var c = this.getMouse();\n\t\n\t                var _dragStartPoint = _slicedToArray(this.dragStartPoint, 2),\n\t                    x = _dragStartPoint[0],\n\t                    y = _dragStartPoint[1];\n\t\n\t                target.move([c[0] - x, c[1] - y]);\n\t            });\n\t\n\t            this.on('dragtargetend', function (target) {\n\t                if (target) {\n\t                    target.moveEnd();\n\t                }\n\t            });\n\t        }\n\t\n\t        /**\n\t         * 获取该位置所存在的图样\n\t         * @param px\n\t         * @param py\n\t         */\n\t\n\t    }, {\n\t        key: 'getSelect',\n\t        value: function getSelect(_ref2) {\n\t            var _ref3 = _slicedToArray(_ref2, 2),\n\t                px = _ref3[0],\n\t                py = _ref3[1];\n\t\n\t            var _iteratorNormalCompletion2 = true;\n\t            var _didIteratorError2 = false;\n\t            var _iteratorError2 = undefined;\n\t\n\t            try {\n\t                for (var _iterator2 = Object.keys(this.content)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                    var shapes = _step2.value;\n\t                    var _iteratorNormalCompletion3 = true;\n\t                    var _didIteratorError3 = false;\n\t                    var _iteratorError3 = undefined;\n\t\n\t                    try {\n\t\n\t                        for (var _iterator3 = this.content[shapes][Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t                            var p = _step3.value;\n\t\n\t                            if (p.isContact([px, py])) {\n\t                                return p;\n\t                            }\n\t                        }\n\t                    } catch (err) {\n\t                        _didIteratorError3 = true;\n\t                        _iteratorError3 = err;\n\t                    } finally {\n\t                        try {\n\t                            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t                                _iterator3.return();\n\t                            }\n\t                        } finally {\n\t                            if (_didIteratorError3) {\n\t                                throw _iteratorError3;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError2 = true;\n\t                _iteratorError2 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                        _iterator2.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError2) {\n\t                        throw _iteratorError2;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'draw',\n\t        value: function draw() {\n\t\n\t            this.emit('draw');\n\t        }\n\t    }, {\n\t        key: 'setMode',\n\t        value: function setMode(mode) {\n\t            var last = this.mode;\n\t            if (mode == 'move') {\n\t                this.zoom.x(this.scaleX).y(this.scaleY);\n\t            } else {\n\t                this.zoom.x(d3.scale.linear()).y(d3.scale.linear());\n\t            }\n\t            this.mode = mode;\n\t            if (mode != '_move') {\n\t                this.blurAll();\n\t            }\n\t            if (!(last == '_move' && mode == 'move' || last == 'move' && mode == '_move')) {\n\t                this.emit('modechange', mode);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'add',\n\t        value: function add(type, config) {\n\t            if (this.mode != 'add') return;\n\t            var ret = this._add(type, config);\n\t            this.lastTarget && this.lastTarget.blur();\n\t            this.activeTarget = this.focusTarget = ret;\n\t            ret.focus();\n\t\n\t            return ret;\n\t        }\n\t    }, {\n\t        key: '_add',\n\t        value: function _add(type, config) {\n\t            if (!this.content[type]) {\n\t                this.content[type] = [];\n\t            }\n\t            var n = this.shapeManager.addByConfig(type, config);\n\t            console.log(this.content);\n\t            this.shapeMap[n.id] = n;\n\t            return n;\n\t        }\n\t    }, {\n\t        key: 'getMouse',\n\t        value: function getMouse() {\n\t            return d3.mouse(this.graph[0][0]);\n\t        }\n\t    }, {\n\t        key: 'blurAll',\n\t        value: function blurAll() {\n\t            var _this4 = this;\n\t\n\t            Object.keys(this.content).forEach(function (name) {\n\t                _this4.content[name].forEach(function (shape) {\n\t                    shape.blur();\n\t                });\n\t            });\n\t            this.activeTarget = this.focusTarget = this.lastTarget = null;\n\t        }\n\t    }, {\n\t        key: 'removeShape',\n\t        value: function removeShape(shape) {\n\t            shape.destroy();\n\t        }\n\t    }, {\n\t        key: 'removeShapeRef',\n\t        value: function removeShapeRef(shape) {\n\t            var name = shape.name;\n\t            var i;\n\t            if (this.content[name]) {\n\t                i = this.content[name].indexOf(shape);\n\t            }\n\t\n\t            if (i > -1) {\n\t                this.content[name].splice(i, 1);\n\t                delete this.shapeMap[shape.id];\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Chart;\n\t}(_events3.default);\n\t\n\texports.default = Chart;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.shapeManager = exports.relationManager = undefined;\n\t\n\tvar _relationManager = __webpack_require__(23);\n\t\n\tvar _relationManager2 = _interopRequireDefault(_relationManager);\n\t\n\tvar _shapeManager = __webpack_require__(24);\n\t\n\tvar _shapeManager2 = _interopRequireDefault(_shapeManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.relationManager = _relationManager2.default;\n\texports.shapeManager = _shapeManager2.default;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _index = __webpack_require__(15);\n\t\n\tvar relations = _interopRequireWildcard(_index);\n\t\n\tvar _manager = __webpack_require__(12);\n\t\n\tvar _manager2 = _interopRequireDefault(_manager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 关系管理\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m= chart.relationManager = new manager()\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.relations = {\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *      name : []\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * }\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.addRelation('type')\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.startRelation('type')\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.currentRelation\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t\n\tvar rManager = function (_Manager) {\n\t    _inherits(rManager, _Manager);\n\t\n\t    function rManager(chart) {\n\t        var _ref;\n\t\n\t        _classCallCheck(this, rManager);\n\t\n\t        return _possibleConstructorReturn(this, (_ref = rManager.__proto__ || Object.getPrototypeOf(rManager)).call.apply(_ref, [this].concat(Array.prototype.slice.call(arguments), [relations])));\n\t    }\n\t\n\t    _createClass(rManager, [{\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {\n\t            var _this2 = this;\n\t\n\t            _get(rManager.prototype.__proto__ || Object.getPrototypeOf(rManager.prototype), 'bindEvent', this).call(this);\n\t            this.chart.on('modechange', function (mode) {\n\t                if (mode.indexOf('relation.') < 0) {\n\t                    _this2.stopElement();\n\t                } else {\n\t                    var type = mode.split('.')[1];\n\t                    _this2.typeName = type;\n\t                    _this2.startElement(type);\n\t                }\n\t            });\n\t            this.chart.on('choose', function (shape) {\n\t                if (!_this2.start) return;\n\t                if (_this2.chart.mode.indexOf('relation') > -1) {\n\t\n\t                    _this2.currentElement.addShape(shape);\n\t                }\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return rManager;\n\t}(_manager2.default);\n\t\n\texports.default = rManager;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _index = __webpack_require__(11);\n\t\n\tvar shapes = _interopRequireWildcard(_index);\n\t\n\tvar _manager = __webpack_require__(12);\n\t\n\tvar _manager2 = _interopRequireDefault(_manager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 关系管理\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m= chart.relationManager = new manager()\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.relations = {\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *      name : []\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * }\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.addRelation('type')\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.startRelation('type')\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * m.currentRelation\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t\n\tvar sManager = function (_Manager) {\n\t    _inherits(sManager, _Manager);\n\t\n\t    function sManager(chart) {\n\t        var _ref;\n\t\n\t        _classCallCheck(this, sManager);\n\t\n\t        //描点的过程中产生的点\n\t        var _this = _possibleConstructorReturn(this, (_ref = sManager.__proto__ || Object.getPrototypeOf(sManager)).call.apply(_ref, [this].concat(Array.prototype.slice.call(arguments), [shapes])));\n\t\n\t        _this.processPoints = [];\n\t        return _this;\n\t    }\n\t\n\t    _createClass(sManager, [{\n\t        key: 'bindEvent',\n\t        value: function bindEvent() {\n\t            var _this2 = this;\n\t\n\t            _get(sManager.prototype.__proto__ || Object.getPrototypeOf(sManager.prototype), 'bindEvent', this).call(this);\n\t            this.chart.on('modechange', function (mode) {\n\t                _this2.stopElement();\n\t                if (mode.indexOf('addElement.') > -1) {\n\t                    var type = mode.split('.')[1];\n\t                    _this2.typeName = type;\n\t                    _this2.startElement(type);\n\t                }\n\t            });\n\t\n\t            this.chart.on('clickBlank', function (p) {\n\t                if (!_this2.start) return;\n\t                if (_this2.chart.mode.indexOf('addElement') > -1) {\n\t\n\t                    var point = _this2.addByConfig('point', {\n\t                        data: p\n\t                    });\n\t                    _this2.processPoints.push(point);\n\t                    _this2.currentElement.addShape(point);\n\t                }\n\t            });\n\t\n\t            this.chart.on('choose', function (shape) {\n\t                if (!_this2.start) return;\n\t                if (_this2.chart.mode.indexOf('addElement') > -1) {\n\t\n\t                    _this2.currentElement.addShape(shape);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'addByConfig',\n\t        value: function addByConfig(type, config) {\n\t            var ret = new this.types[type](this, config, true);\n\t            this.addElement(ret);\n\t            return ret;\n\t        }\n\t    }, {\n\t        key: 'stopElement',\n\t        value: function stopElement() {\n\t            _get(sManager.prototype.__proto__ || Object.getPrototypeOf(sManager.prototype), 'stopElement', this).call(this);\n\t            this.processPoints.forEach(function (p) {\n\t                p.destroy();\n\t            });\n\t            this.processPoints = [];\n\t        }\n\t    }, {\n\t        key: 'endCurrentElement',\n\t        value: function endCurrentElement() {\n\t            _get(sManager.prototype.__proto__ || Object.getPrototypeOf(sManager.prototype), 'endCurrentElement', this).call(this);\n\t            this.processPoints = [];\n\t        }\n\t    }]);\n\t\n\t    return sManager;\n\t}(_manager2.default);\n\t\n\texports.default = sManager;\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// app.js","var util = {\n\n    /**\n     * 2点之间的距离\n     * @param x0\n     * @param y0\n     * @param x1\n     * @param y1\n     * @returns {number}\n     */\n    distance: function([x0, y0], [x1, y1]) {\n        return Math.sqrt(\n            Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2)\n        )\n    },\n\n    /**\n     * 近似到几位小数\n     * @param number\n     * @param approximate\n     * @returns {number}\n     */\n    approximate: function(number, approximate) {\n        approximate = approximate ? approximate : 2;\n        var x = Math.pow(10, approximate)\n        return Math.ceil(number * x) / x\n    },\n\n    uniqueId: (function() {\n        let i = new Date().getTime();\n        return function() {\n            return i++;\n        }\n    } ()),\n\n    vectorAngle: function(vectorA, vectorB) {\n        return Math.acos(\n            (vectorA[0] * vectorB[0] + vectorA[1] * vectorB[1]) /\n            (util.distance([0, 0], vectorA) * util.distance([0, 0], vectorB))\n        )\n    }\n\n}\n\nexport default util;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/util.js","import events from 'events';\nimport util from \"../../util.js\";\nimport Element from '../element.js'\nconst gClassName = 'shape';\nclass Base extends Element {\n\n    constructor(manager, config={}) {\n\n        super(...arguments);\n        this.setMaxListeners(0);\n\n       \n        this.isDrew = false;\n        this.id = config.id ? config.id : ('shape-' + util.uniqueId());\n\n        var chart = this.chart;\n        this.scaleX = chart.scaleX;\n        this.scaleY = chart.scaleY;\n        this.graph = chart.graph;\n        this.width = chart.layout.w;\n        this.height = chart.layout.h;\n\n        this.relations = [];\n        var that = this;\n\n        //此处不使用bind 是为了取消事件\n        // funA.bind(a) != funA.bind(a)\n        this.drawCall = function() {\n            return that.draw();\n        }\n        chart.on('draw', this.drawCall)\n\n\n    }\n\n    addShape(shape){\n        return super.addShape(shape);\n    }\n\n    end(){\n        console.log('end');\n        this.bindEvent();\n        this.draw();\n        this.manager.endCurrentElement();\n    }\n\n    draw() {\n\n        this.isDrew = true;\n        this.emit('draw');\n\n    }\n\n    isContact(p) {\n        return this.isHover;\n    }\n\n    focus() {\n        this.group.classed(this.activeClassName, true);\n    }\n\n    blur() {\n        this.group.classed(this.activeClassName, false);\n    }\n\n    buildDom() {\n        this.group = this.graph\n            .append('g')\n            .attr('id', this.id)\n            .attr('class', gClassName);\n        var that = this;\n        this.group\n            .on('mouseover', function() {\n                that.isHover = true;\n                // console.log(this,true)\n            })\n            .on('mouseout', function() {\n                that.isHover = false;\n                // console.log(this,false)\n            })\n\n    }\n\n    /**\n     * 将客户端坐标转差值换为坐标系坐标差值\n     */\n    pxToUnit([dx, dy]) {\n        var uxPerPx = this.scaleX(1) - this.scaleX(0);// px/unit\n        var uyPerPx = this.scaleY(1) - this.scaleY(0);\n\n        return [dx / uxPerPx, dy / uyPerPx];\n    }\n\n    get proxyClassName() {\n        return 'proxy';\n    }\n\n    get activeClassName() {\n        return 'active';\n    }\n    get proxyPathWidth() {\n        return 8;\n    }\n\n    addRelation(relation) {\n        this.relations.push(relation);\n    }\n    \n    removeRelation(r){\n        var i = this.relations.indexOf(r);\n        if(i > -1){\n            this.relations.splice(i,1);\n        }\n    }\n\n    destroy() {\n\n        this.group.remove();\n        this.relations.forEach(r => {\n            r.destroy();\n        });\n        this.relations = [];\n        this.chart.removeListener('draw', this.drawCall);\n        this.chart.removeShapeRef(this);\n        \n\n    }\n    \n    bindEvent(){\n        \n    }\n}\n\nexport default Base;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/base.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.1.1@events/events.js\n// module id = 3\n// module chunks = 1","import Base from '../base.js';\nimport util from '../../../util.js';\nimport Point from './point.js';\nimport Segment from './segment.js';\nconst className = 'line shape-line';\nclass Line extends Base {\n\n    constructor(manager,\n        {\n            //Point实例\n            data = [\n            ],\n            color = 'none',\n            r = 3,\n            stroke = '#666'\n        } = {},\n        autoDraw = false) {\n        super(...arguments);\n\n        this.points = [];\n\n        for (let point of data) {\n\n            if (!point.coordinate) {\n\n                point = manager.addByConfig('point', {\n                    data: point\n                })\n            }\n\n\n\n\n            this.points.push(point);\n\n        }\n\n        this.color = color;\n        this.r = r;\n        this.stroke = stroke;\n\n        \n        this.name = 'line';\n        \n        this.shapes = {\n            point: []\n        }\n        this.necessaryShape = {\n            point: Infinity\n        }\n        this.shapeNames = Object.keys(this.shapes)\n        this.buildDom();\n        if (autoDraw) {\n\n            this.draw();\n        }\n\n        \n    }\n\n    buildDom(){\n        super.buildDom();\n\n    }\n\n    draw() {\n\n\n        // var path = this.getData();\n        //\n        // this.dom\n        //     .attr('d', path)\n        // this.proxyDom\n        //     .attr('d', path);\n        super.draw();\n    }\n\n\n    getData() {\n        var p = this.getPoints();\n        var path = \"M\";\n        for (let [x, y] of p) {\n            path = path + x + ' ' + y + ' ';\n        }\n\n        return path;\n\n    }\n\n    /**\n     * 获取点的坐标\n     * @return [Array] [[x1,y1],[x2,y2]]\n     */\n    getPoints() {\n        return this.points.map(function(point) {\n            return point.getData();\n        })\n    }\n\n\n    move([dx, dy]) {\n        for (let point of this.points) {\n            point.move([dx, dy]);\n        }\n    }\n\n    moveEnd() {\n\n        for (let point of this.points) {\n            point.moveEnd();\n        }\n    }\n\n    addShape(shape){\n        if (!this.shapeInNecessary(shape) || this.shapeInAdded(shape)) return false;\n        super.addShape(shape);\n        this.points.push(shape);\n\n        this.checkEnd();\n    }\n\n    bindEvent(){\n        this.points.forEach(point=>{\n            point.on('move', function () {\n                this.draw();\n                this.emit('move');\n            }.bind(this))\n        });\n    }\n\n    end(){\n        let i = 0;\n        for (let point of this.points) {\n\n\n            if(i>0){\n                let segment = this.manager.addByConfig('segment', {\n                    data: [\n                        this.points[i-1],\n                        point\n                    ]\n                })\n            }\n            i++;\n        }\n        super.end();\n    }\n    \n    \n\n}\n\nexport default Line;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/shapes/line.js","import Base from '../base.js';\nimport util from '../../../util.js'\nconst className = 'circle shape-point';\nclass Point extends Base {\n\n    constructor(manager,\n        {\n            //坐标系坐标，客户端坐标需要在传之前转换\n            data = [],\n            color = '#ccc',\n            r = 6,\n            stroke = '#666'\n        } = {},\n        autoDraw = false) {\n        super(...arguments);\n\n        this.coordinate = data;\n        this.lastCoordinate = [data[0], data[1]];\n        this.color = color;\n        this.r = r;\n        this.stroke = stroke;\n\n         this.shapes = {\n            point: []\n        }\n        this.necessaryShape = {\n            point: 1\n        }\n\n        this.buildDom();\n        \n        this.name = 'point';\n\n        this.shapeNames=[];\n\n        if (autoDraw) {\n            this.draw();\n        }\n\n    }\n\n    draw() {\n\n        var [x, y] = this.getData(this.coordinate);\n\n        this.group\n            .attr('transform', 'translate(' + x + ',' + y + ')')\n\n        this.tip\n            .text(util.approximate(this.coordinate[0]) + ',' + util.approximate(this.coordinate[1]))\n\n        super.draw()\n    }\n\n    //将坐标系坐标转换为客户端坐标\n    getData(p) {\n        if (!p) {\n            p = this.coordinate;\n        }\n        var x = this.scaleX;\n        var y = this.scaleY;\n\n        return [x(p[0]), y(p[1])];\n    }\n\n\n    buildDom() {\n\n        if (this.dom) return;\n\n        super.buildDom();\n\n        this.dom = this.group\n            .append('circle')\n            .attr(\"class\", className)\n\n            .attr('fill', this.color)\n            .attr('stroke', this.stroke)\n            .attr('r', this.r)\n            .attr('cx', 0)\n            .attr('cy', 0)\n        this.tip = this.group\n            .append('text')\n            .attr('dx', 3)\n            .attr('dy', -3)\n            .style('pointer-events','none')\n\n        this.proxyDom = this.group\n            .append('circle')\n            .attr(\"class\", this.proxyClassName)\n            .attr('r', this.r + 5)\n            .attr('fill', 'rgba(0,0,0,0)')\n            .attr('stroke', 'rgba(0,0,0,0)')\n\n\n    }\n\n    // isContact(p) {\n    //     var r = 6;\n    //     return (util.distance(p, this.getData()) <= r)\n    // }\n\n    focus() {\n        super.focus();\n        this.dom.attr('fill', 'red');\n    }\n\n    blur() {\n        super.blur();\n        this.dom.attr('fill', this.color);\n    }\n\n    move([dx, dy]) {\n\n        [dx, dy] = super.pxToUnit([dx, dy])\n        this.coordinate[0] = this.lastCoordinate[0] + dx;\n        this.coordinate[1] = this.lastCoordinate[1] + dy;\n        this.draw();\n        this.emit('move');\n    }\n\n    moveEnd() {\n        this.lastCoordinate[0] = this.coordinate[0];\n        this.lastCoordinate[1] = this.coordinate[1];\n        this.emit('moveend');\n\n    }\n\n    addShape(s) {\n        this.coordinate = [...s.coordinate]\n        this.lastCoordinate = [...s.coordinate]\n        this.shapes.point.push(s)\n        this.checkEnd()\n    }\n\n    end() {\n        this.shapes.point[0].destroy()\n        super.end()\n    }\n\n}\n\nexport default Point;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/shapes/point.js","import Base from '../base.js';\nimport util from '../../../util.js';\nimport Point from './point.js';\n\nconst className = 'line shape-segment';\nclass Segment extends Base {\n    constructor(manager,\n        {\n            //Point实例\n            data = [],\n            color = 'none',\n            r = 3,\n            stroke = '#666'\n        } = {},\n                autoDraw = false) {\n        super(...arguments);\n\n        this.points = [];\n\n        for (let point of data) {\n\n            if (!point.coordinate) {\n\n                point = manager.addByConfig('point', {\n                    data: point\n                })\n            }\n\n\n\n\n            this.points.push(point);\n        }\n\n        this.color = color;\n        this.r = r;\n        this.stroke = stroke;\n\n        this.shapes = {\n            point: []\n        }\n        this.necessaryShape = {\n            point: 2\n        }\n        this.shapeNames = Object.keys(this.shapes)\n\n\n        this.buildDom();\n\n        this.name = 'segment';\n\n        if (autoDraw) {\n            this.draw();\n            this.bindEvent();\n        }\n\n\n    }\n\n    draw() {\n\n        var path = this.getData();\n\n        this.dom\n            .attr('d', path)\n        this.proxyDom\n            .attr('d', path);\n        super.draw();\n    }\n\n\n    getData() {\n        var p = this.getPoints();\n        var path = \"M\";\n        for (let [x, y] of p) {\n            path = path + x + ' ' + y + ' ';\n        }\n\n        return path;\n\n    }\n\n    /**\n     * 获取点的坐标\n     * @return [Array] [[x1,y1],[x2,y2]]\n     */\n    getPoints() {\n        return this.points.map(function (point) {\n            return point.getData();\n        })\n    }\n\n    bindEvent(){\n        this.points.forEach(point=>{\n            point.on('move', function () {\n                this.draw();\n                this.emit('move');\n            }.bind(this))\n        });\n    }\n\n    buildDom() {\n\n        if (this.dom) return;\n        super.buildDom();\n\n        //path节点放在第一个点之前\n        var g = document.getElementById(this.id);\n        var point = this.points[0];\n\n        if (point) {\n            var p = document.getElementById(point.id);\n            p.parentElement.insertBefore(g, p)\n        }\n        this.dom = this.group\n            .append('path')\n            .attr(\"class\", className)\n            .style('fill', this.color)\n            .attr('stroke', this.stroke)\n\n        this.tip = this.group\n            .append('text')\n            .attr('dx', 3)\n            .attr('dy', -3)\n\n        this.proxyDom = this.group\n            .append('path')\n            .attr(\"class\", this.proxyClassName)\n            .attr('stroke-width', this.proxyPathWidth)\n\n            .attr('fill', 'none')\n            .attr('stroke', 'rgba(0,0,0,0)');\n\n    }\n\n    move([dx, dy]) {\n        for (let point of this.points) {\n            point.move([dx, dy]);\n        }\n    }\n\n    moveEnd() {\n\n        for (let point of this.points) {\n            point.moveEnd();\n        }\n    }\n\n    get k() {\n        var [p1, p2] = this.getPoints();\n        return (p1[1] - p2[1]) / (p1[0] - p2[0]);\n    }\n\n    addShape(shape){\n        if (!this.shapeInNecessary(shape) || this.shapeInAdded(shape)) return false;\n        super.addShape(shape);\n        this.points.push(shape);\n\n        this.checkEnd();\n    }\n\n\n}\n\nexport default Segment;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/shapes/segment.js","import Event from 'events';\n\nclass Element extends Event{\n\n    constructor(manager) {\n        super(...arguments);\n        this.manager = manager;\n        this.chart = manager.chart;\n        this.container = this.chart.graph;\n        this.domin = {\n            x: [0, manager.chart.layout.w],\n            y: [0, manager.chart.layout.h]\n        }\n    }\n\n    shapeInAdded(shape) {\n        for (let name of this.shapeNames) {\n            if (this.shapes[name].includes(shape)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    shapeInNecessary(shape) {\n        var name = shape.name;\n        var fullName = this.getFullName(name);\n        return (this.shapeNames.includes(fullName))\n            && (this.shapes[fullName].length < this.necessaryShape[fullName])\n\n\n    }\n\n\n    /**\n     * 意义：\n     *  例如在垂线中需要一个直线或者线段，存储在shapeNames当中的key为\n     * 'straight_segment',而传入的图形名字只是segment或者straight\n     * 这时候需要获取到完整的key\n     *\n     *\n     * @param String name 图形的名称\n     * @returns String 该图像名称在关系当中的名字\n     */\n    getFullName(name) {\n        for (let n of this.shapeNames) {\n            let ns = n.split('_');\n            if (ns.includes(name)) {\n                return n;\n            }\n        }\n        return '';\n    }\n\n    addShape(shape){\n        if (!this.shapeInNecessary(shape) || this.shapeInAdded(shape)) return false;\n        this.shapes[this.getFullName(shape.name)].push(shape);\n        \n    }\n\n    checkEnd() {\n        for (let name of this.shapeNames) {\n            if (this.shapes[name].length < this.necessaryShape[name]) {\n                return false;\n            }\n        }\n        this.end();\n    }\n    \n    end(){\n        throw new Error('end 未定义');\n    }\n\n}\n\nexport default Element;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/element.js","import base from '../base.js';\n\nclass VerticalLine extends base {\n    \n    constructor() {\n        super(...arguments);\n\n        this.shapes = {\n            point: [],\n            straight_segment: []\n        }\n        this.necessaryShape = {\n            point: 1,\n            straight_segment: 1\n        }\n        this.shapeNames = Object.keys(this.shapes)\n    }\n    \n    get name(){\n        return 'verticalLine';\n    }\n    \n    draw() {\n        this.dom\n            .attr('d', this.getData());\n    }\n\n    buildDom() {\n        if (this.dom) return;\n        super.buildDom();\n        this.dom = this.group\n            .append('path')\n            .classed('vertical-line', true);\n    }\n\n    getData() {\n        var p = this.shapes.point[0].getData();\n        var l = this.shapes.straight_segment[0];\n        var k = - 1 / l.k;\n\n        var fun = function(x) {\n            return k * x + p[1] - k * p[0]\n        }\n\n        var path = 'M';\n        if (k !== Infinity) {\n            this.domin.x.forEach(x => {\n\n                path += x + ' ' + fun(x) + ' ';\n            });\n        }else{\n            path = 'M '+ p[0] +' 0 ' + p[0]+' '+this.domin.y[1]; \n        }\n\n\n        return path;\n    }\n}\n\nexport default VerticalLine;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/relation/relations/verticalLine.js","import func from './shapes/func.js';\nimport point from './shapes/point.js'\nimport line from './shapes/line.js';\nimport polygon from './shapes/polygon.js';\nimport angle from './shapes/angle.js';\nimport segment from './shapes/segment.js';\nimport straight from './shapes/straight.js';\n\nexport {\n    func,\n    point,\n    line,\n    polygon,\n    angle,\n    segment,\n    straight\n    }\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/index.js","/**\n *\n * 管理的基类\n *\n *\n */\n// import * as relations from './../../relation/index.js';\n\nclass Manager {\n    constructor(chart,types) {\n        this.chart = chart;\n        this.types = types;\n\n        /**\n         * 存储关系\n         * {\n         *  verticalLine : [],\n         * ...\n         * }\n         */\n        this.elements = {};\n        /**\n         * 新关系是否开始\n         */\n        this.start = false;\n        \n        this.bindEvent();\n\n    }\n\n    bindEvent(){\n        \n\n        this.chart.on('hover', shape => {\n            if (!this.start) return;\n            if (this.currentElement.shapeInNecessary(shape) && !this.currentElement.shapeInAdded(shape)) {\n                shape.focus()\n            }\n        });\n        this.chart.on('hoverout', shape => {\n            if (!this.start) return;\n            if (!this.currentElement.shapeInAdded(shape)) {\n                shape.blur();\n            }\n        });\n    }\n    \n    addElement(element) {\n        var name = element.name;\n        if (!this.elements[name]) {\n            this.elements[name] = [];\n        }\n        this.elements[name].push(element);\n        \n    }\n\n    startElement(type) {\n        this.start = true;\n\n        this.currentElement = new this.types[type](this);\n    }\n\n    stopElement() {\n        this.start = false;\n        this.currentElement&&this.currentElement.destroy();\n        this.currentElement = null;\n\n    }\n\n    endCurrentElement() {\n\n        this.addElement(this.currentElement);\n        this.currentElement = new this.types[this.typeName](this);\n        this.chart.blurAll();\n    }\n\n    removeElement(element) {\n        element.destroy();\n    }\n\n    removeElementRef(element){\n        var name = element.name;\n        var i = this.elements[name].indexOf(element);\n        if(i>-1){\n            this.elements[name].splice(i,1);\n        }\n    }\n}\n\nexport default Manager;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/manager/manager.js","import Chart from './chart/index.js';\n\nvar a = new Chart({\n    container: document.getElementById('app'),\n    xAxes: {\n        domain: [-20.50, 20.50]\n    },\n    yAxes: {\n        domain: [-2, 2]\n    },\n    content: {\n        \n        // point: [\n        //     {\n        //         data: [1, 0]\n        //     }\n        // ],\n        // straight: [\n        //     {\n        //         data: [\n        //             [1, 1],\n        //             [3, 1],\n        \n        \n        //         ],\n        //         id: '213123'\n        //     }\n        // ],\n        // polygon: [\n        //     {\n        //         data: [\n        //             [0, 1],\n        //             [1.5, 1.5],\n        //             [-1, 1.3],\n        //             [-2, 0]\n        //         ]\n        //     }\n        // ],\n        // angle: [\n        //     {\n        //         data: [\n        //             [-2.0, 1.1],\n        //             [1.2, 1.2],\n        //             [1.1, 0]\n        //         ]\n        //     }\n        // ]\n    }\n});\n\na.draw();\n\n\nvar box = `\n    <div id=\"box\">\n    选择模式\n    <select name=\"a\" id=\"limit\">\n        <option value=\"move\">移动与缩放</option>\n        <option value=\"relation.verticalLine\">垂线</option>\n        <option value=\"relation.parallelLine\">平行线</option>\n        <option value=\"addElement.point\">点</option>\n        <option value=\"addElement.segment\">线段</option>\n        <option value=\"addElement.straight\">直线</option>\n        <option value=\"addElement.angle\">角度</option>\n        <option value=\"addElement.polygon\">多边形</option>\n    </select>\n</div>\n`\n$('body').append(box)\n$('#limit').on('change', function () {\n\n    a.setMode(this.value);\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/app.js","/**\n * r = new relation('type') \n * r.begin()  \n * 用户进行选择,选择完毕后生成图像\n * r.remove()\n * r.end()\n * \n * r.addShape()\n * \n * r.necessaryShape = {\n *      point:1,\n *      segment_straight:1\n * }\n * \n * r.shapes = {\n *      point : [Point],\n *      segment:[Segment]\n * }\n * \n * r.shapeInAdded() bool\n * \n * r.RelationShape = [Line]\n * \n*/\nimport Element from '../element.js';\nclass Relation extends Element{\n    constructor(manager) {\n        super(...arguments);\n       \n    }\n\n   \n\n    addShape(shape) {\n        if(super.addShape(shape) === false) return;\n       \n        shape.addRelation(this);\n        this.checkEnd();\n    }\n\n    \n\n    end() {\n        console.log('end');\n        this.isEnd = true;\n        this.buildDom();\n        this.bindEvent();\n        this.draw();\n        this.manager.endCurrentElement();\n    }\n\n    draw() {\n        console.log('drew');\n    }\n\n    buildDom() {\n        this.group = this.container\n            .insert('g', 'g:nth-child(2)')\n            .attr('class', 'relation');\n    }\n    \n    bindEvent(){\n        var that = this;\n        this.drawCall = function () {\n            return that.draw(...arguments);\n        }\n        for(let name of this.shapeNames){\n            this.shapes[name].forEach(shape =>{\n                //shape.on('move',this.draw.bind(this))\n                shape.on('draw',this.drawCall)\n            })\n        }\n    }\n    \n    destroy(){\n        if(this.isEnd){\n            this.group.remove();\n            for(let name of this.shapeNames){\n                this.shapes[name].forEach(shape =>{\n                    shape.removeListener('draw',this.drawCall);\n                    shape.removeRelation(this);\n                })\n            }\n            this.manager.removeElementRef(this);\n            this.shapes = null;\n        }\n       \n    }\n}\n\nexport default Relation;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/relation/base.js","import verticalLine from './relations/verticalLine.js';\nimport parallelLine from './relations/parallelLine'\nexport{\n    verticalLine,\n    parallelLine\n}\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/relation/index.js","import VertivalLine from './verticalLine'\n\nexport default class ParallelLine extends VertivalLine {\n  get name(){\n      return 'parallelLine';\n  }\n\n  getData() {\n      var p = this.shapes.point[0].getData();\n      var l = this.shapes.straight_segment[0];\n      var k = l.k;\n\n      var fun = function(x) {\n          return k * x + p[1] - k * p[0]\n      }\n\n      var path = 'M';\n      if (k !== Infinity) {\n          this.domin.x.forEach(x => {\n\n              path += x + ' ' + fun(x) + ' ';\n          });\n      }else{\n          path = 'M '+ p[0] +' 0 ' + p[0]+' '+this.domin.y[1]; \n      }\n\n\n      return path;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/relation/relations/parallelLine.js","import Line from './line.js';\nimport util from '../../../util.js';\n\n\nclass Angle extends Line {\n    constructor(manager, options) {\n        //options.color = '#ccc';\n       \n        super(...arguments);\n        this.name = 'angle';\n       \n        this.necessaryShape = {\n            point: 3\n        }\n       \n    }\n\n    getData() {\n        var p = this.getPoints();\n        var path = \"M\";\n        for (let [x, y] of p) {\n            path = path + x + ' ' + y + ' ';\n        }\n\n        return path;\n    }\n\n    buildDom() {\n        super.buildDom();\n        this.tip = this.group\n            .append('g')\n            .style('pointer-events','none');\n        this.angleArc = this.tip.append('path')\n        .attr('id','text'+this.id)\n        .attr('stroke', '#000');\n        this.angleText = this.tip\n            .append('text')\n            .attr('text-anchor','middle')\n            .append('textPath')\n            .attr('xlink:href', '#text' +this.id)\n            .attr('startOffset','50%')\n      \n\n    }\n\n    draw() {\n        super.draw();\n        var [x, y] = this.points[1].getData();\n        var theta = this.getAngleValue();\n        var p1 = this.getPointOverVectorByLength(this.vectorA);\n        var p2 = this.getPointOverVectorByLength(this.vectorB);\n        this.tip\n            .attr('transform', 'translate(' + x + ',' + y + ')');\n        this.angleArc\n            .attr('d', function() {\n\n                return 'M' + p1[0] + ' ' + p1[1] + ',' + p2[0] + ' ' + p2[1];\n            });\n        this.angleText\n            .text(util.approximate(180 * theta / Math.PI))\n\n    }\n\n    getAngleValue() {\n        var [p1, p2, p3] = this.getPoints();\n        var vectorA = [\n            p1[0] - p2[0],\n            p1[1] - p2[1]\n        ];\n        var vectorB = [\n            p3[0] - p2[0],\n            p3[1] - p2[1]\n        ];\n\n        var theta = util.vectorAngle(vectorA, vectorB);\n        this.vectorA = vectorA;\n        this.vectorB = vectorB;\n        return theta;\n    }\n\n\n    /**\n     * 根据长度获取矢量上一点\n     * \n     * @param v 矢量\n     * @param l 长度\n     */\n    getPointOverVectorByLength(v, l) {\n        l = l ? l : 35;\n        var theta = Math.atan2(v[1], v[0]);\n        return [Math.cos(theta) * l, Math.sin(theta) * l];\n    }\n}\n\nexport default Angle;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/shapes/angle.js","import Base from '../base.js';\n\n\nconst className = 'line shape-func';\nconst proxyPathWidth = 15;\nclass Func extends Base {\n\n    constructor(chart,\n        {\n            data = function() {\n            },\n            color = '#000'\n        } = {}) {\n        super(...arguments);\n\n        this.fun = data;\n        this.color = color;\n        this.buildDom();\n        this.dx = 0;\n        this.dy = 0;\n        this.lastdx = 0;\n        this.lastdy = 0;\n        \n        this.name = 'func';\n\n    }\n\n    draw() {\n        var data = this.getData();\n        var path = this.genarator(data);\n        this.dom\n            // .datum(this.getData())\n            //  .attr('d', this.genarator.bind(this))\n            .attr('d', path)\n        this.proxyDom\n            .attr('d', path)\n        super.draw()\n    }\n\n    getData() {\n\n        var pointNumber = this.width;\n        var that = this;\n        var x = this.scaleX;\n\n        var data = d3.range(pointNumber).map(i => {\n            return (\n                that.fun(x.invert(i) - that.dx - that.lastdx)\n                + that.dy + that.lastdy\n            )\n        })\n\n\n        return data;\n    }\n\n    genarator(d) {\n        var path = '';\n        var lastK = 1;\n        var x = this.scaleX;\n        var y = this.scaleY;\n        d.forEach(function(py, i) {\n            if (!isFinite(py)) return;\n\n            if (!path) {\n                path = 'M' + i + ' ' + y(py)\n            }\n\n\n            var dy = py - d[i - 1];\n            var dx = x.invert(i) - x.invert(i - 1);\n            var k = dy / dx;\n\n            if (k / lastK < 0 && (Math.abs(k) > 1000 || Math.abs(lastK) > 1000)) {\n\n\n                path += 'M ' + i + ' ' + y(py)\n            } else {\n                path += 'L ' + i + ' ' + y(py)\n            }\n            lastK = k\n        })\n        return path;\n    }\n\n    buildDom() {\n\n        if (this.dom) return;\n        super.buildDom();\n        this.dom = this.group\n            .append('path')\n            .attr(\"class\", className)\n\n        this.proxyDom = this.group\n            .append('path')\n            .attr(\"class\", this.proxyClassName)\n            .attr('stroke-width', this.proxyPathWidth)\n            .attr('fill', 'none')\n            .attr('stroke', 'rgba(0,0,0,0)')\n\n\n    }\n\n    move([dx, dy]) {\n        [this.dx, this.dy] = super.pxToUnit([dx, dy]);\n        // this.group\n        //     .attr('transform', 'translate(' + dx + ',' + dy + ')')\n\n        this.draw();\n    }\n\n    moveEnd() {\n        this.lastdx += this.dx;\n        this.lastdy += this.dy;\n        [this.dx, this.dy] = [0, 0];\n    }\n\n}\n\nexport default Func;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/shapes/func.js","import Line from './line.js';\nimport util from '../../../util.js';\n\n\nclass Polygon extends Line {\n    constructor(manager, options={}) {\n        options.color = '#ccc';\n        super(...arguments);\n\n        this.name = 'polygon';\n\n        // let segment = manager.addByConfig('segment', {\n        //     data: [\n        //         this.points[this.points.length-1],\n        //         this.points[0]\n        //     ]\n        // })\n    }\n\n    // getData() {\n    //     var p = this.getPoints();\n    //     var path = \"M\";\n    //     for (let [x, y] of p) {\n    //         path = path + x + ' ' + y + ' ';\n    //     }\n    //     path += 'z';\n    //     return path;\n    // }\n\n    checkEnd(){\n        if(this.points.length < 4) return ;\n        var last = this.points.length -1;\n        if(this.points[0] === this.points[last]){\n            this.end();\n        }\n    }\n\n    shapeInAdded(shape){\n        if(this.points.length < 3){\n            return super.shapeInAdded(shape);\n        }else{\n            if(shape === this.points[0]){\n                return false;\n            }else{\n                return super.shapeInAdded(shape);\n            }\n        }\n    }\n}\n\nexport default Polygon;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/shapes/polygon.js","import Segment from './segment.js';\nimport util from '../../../util.js';\n\nclass Straight extends Segment {\n    constructor(chart, options) {\n        //options.color = '#ccc';\n       \n        super(...arguments);\n        this.name = 'straight';\n    }\n\n    getData() {\n        var [p1, p2] = this.getPoints();\n        var domain = this.chart.layout.w;\n        var k = (p1[1] - p2[1]) / (p1[0] - p2[0]);\n        var fun = function(x) {\n            \n            return k*x + p1[1] - k*p1[0];\n        }\n        var p = [\n            [0,fun(0)],\n            [domain,fun(domain)]\n        ]\n        var path = \"M\";\n        for (let [x, y] of p) {\n            path = path + x + ' ' + y + ' ';\n        }\n\n        return path;\n    }\n    \n    \n    // buildDom() {\n\n    //     if (this.dom) return;\n    //     super.buildDom();\n\n    //     //path节点放在第一个点之前\n    //     var g = document.getElementById(this.id);\n    //     var point = this.points[0];\n        \n    //     if (point) {\n    //         var p = document.getElementById(point.id);\n    //         p.parentElement.insertBefore(g,p)\n    //     }\n    //     this.dom = this.group\n    //         .append('path')\n    //         .attr(\"class\", className)\n    //         .style('fill', this.color)\n    //         .attr('stroke', this.stroke)\n\n    //         .attr('fill', 'none')\n    //         .attr('stroke', 'rgba(0,0,0,0)');\n    //     this.tip = this.group\n    //         .append('text')\n    //         .attr('dx', 3)\n    //         .attr('dy', -3)\n\n    //     this.proxyDom = this.group\n    //         .append('path')\n    //         .attr(\"class\", this.proxyClassName)\n    //         .attr('stroke-width', this.proxyPathWidth)\n\n    //         .attr('fill', 'none')\n    //         .attr('stroke', 'rgba(0,0,0,0)');\n            \n    // }\n\n    \n    get k(){\n         var [p1, p2] = this.getPoints();\n         return (p1[1] - p2[1]) / (p1[0] - p2[0]);\n    }\n\n}\n\nexport default Straight;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/element/shape/shapes/straight.js","import events from 'events';\nimport * as shape from './element/shape/index.js';\nimport * as manager from './manager/index.js';\nvar isPc = document.body.ontouchstart === undefined;\nvar event = {\n    down: isPc ? 'mousedown' : 'touchstart',\n    move: isPc ? 'mousemove' : 'touchmove',\n    up: isPc ? 'mouseup' : 'touchend'\n}\nclass Chart extends events {\n\n    constructor({\n        container = document.body,\n        xAxes = {\n            domain: [-10, 10]\n        },\n        yAxes = {\n            domain: [-5, 5]\n        },\n        /**\n         * content = {\n         *  straight:[\n         *      {\n         *          data:[p0,p1],\n         *          color:String,\n         *          id:String    \n         *      }\n         *  ]  \n         * }\n         */\n        content = {},\n\n    } = {},\n        //操作模式\n        mode = 'move') {\n\n        super();\n\n        this.container = container;\n        var margin = {\n                top: 20,\n                right: 40,\n                bottom: 20,\n                left: 40\n            },\n            width = container.clientWidth - margin.left - margin.right,\n            height = container.clientHeight - margin.top - margin.bottom;\n        this.layout = {\n            w: width,\n            h: height,\n            margin: margin\n        }\n\n        this.scaleX = d3.scale.linear()\n            .domain(xAxes.domain)\n            .range([0, width]);\n        this.scaleY = d3.scale.linear()\n            .domain(yAxes.domain)\n            .range([height, 0])\n\n        this.limitZoom = false;\n\n        this.mode = mode;\n\n        //取消对监听器数量的限制\n        this.setMaxListeners(0);\n\n        /**\n         * 形状的索引\n         * 键值为形状id\n         */\n        this.shapeMap = {};\n\n        this.init();\n        this.relationManager = new manager.relationManager(this);\n        this.shapeManager = new manager.shapeManager(this);\n        this.content = this.shapeManager.elements;\n        this.translateContent(content);\n\n\n    }\n\n    //初始化画布\n    init() {\n        var margin = this.layout.margin\n        var width = this.layout.w;\n        var height = this.layout.h;\n        var svg = d3.select(this.container).append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n\n        var canvas = svg.append(\"g\")\n            .attr('class', 'canvas')\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n        canvas.append(\"defs\").append(\"clipPath\")\n            .attr(\"id\", \"clip\")\n            .append(\"rect\")\n            .attr(\"width\", width)\n            .attr(\"height\", height);\n\n\n        this.svg = svg;\n        this.canvas = canvas;\n\n        this.buildAxes();\n        this.buildAuxline();\n        this.graph = canvas.append('g')\n            .attr('class', 'graph')\n            .attr(\"clip-path\", \"url(#clip)\");\n        this.bindEvent();\n\n    }\n\n    translateContent(content) {\n\n        Object.keys(content).forEach((name, i) => {\n\n            // this.content[name] = content[name].map(item => {\n            //     return new shape[name](this, item);\n            // });\n            content[name].forEach((config)=> {\n                this._add(name, config);\n            })\n        })\n        window.c = this.content;\n\n\n    }\n\n    buildAxes() {\n        var x = this.scaleX;\n        var y = this.scaleY;\n        this.axesX = this.canvas.append(\"g\")\n            .attr(\"class\", \"x-axes axes\")\n            .attr(\"transform\", \"translate(0,\" + this.layout.h + \")\")\n            .call(d3.svg.axis().scale(x).orient(\"bottom\"));\n        this.axesY = this.canvas.append(\"g\")\n            .attr(\"class\", \"y-axes axes\")\n            .call(d3.svg.axis().scale(y).orient(\"left\"));\n    }\n\n    //网格线\n    buildAuxline() {\n        var x = this.scaleX.ticks();\n        var y = this.scaleY.ticks();\n        if (!this.auxLines) {\n            this.auxLines = this.canvas.append('g')\n                .attr('class', 'aux-line');\n\n\n        }\n        var that = this;\n        var updateX = this.auxLines\n            .selectAll('.aux-line-x')\n            .data(x)\n        updateX.enter()\n            .append('line')\n            .attr('class', 'aux-line-x')\n        updateX.exit().remove()\n        var updateY = this.auxLines\n            .selectAll('.aux-line-y')\n            .data(y)\n        updateY.enter()\n            .append('line')\n            .attr('class', 'aux-line-y')\n        updateY.exit().remove();\n\n        this.auxLines\n            .selectAll('.aux-line-x')\n            .attr('x1', (d, i) => {\n                return that.scaleX(d)\n            })\n            .attr('x2', (d, i) => {\n                return that.scaleX(d)\n            })\n            .attr('y1', that.layout.h)\n            .attr('y2', 0)\n            .attr('value', function (d) {\n                return d;\n            })\n\n\n        this.auxLines\n            .selectAll('.aux-line-y')\n            .attr('y1', (d, i) => {\n                return that.scaleY(d)\n            })\n\n            .attr('y2', (d, i) => {\n                return that.scaleY(d)\n            })\n            .attr('x1', that.layout.w)\n            .attr('x2', 0)\n            .attr('value', function (d) {\n                return d;\n            })\n\n\n    }\n\n    reBuildAxes() {\n        this.axesX.call(\n            d3.svg.axis().scale(this.scaleX).orient(\"bottom\")\n        );\n        this.axesY.call(\n            d3.svg.axis().scale(this.scaleY).orient(\"left\")\n        )\n    }\n\n    bindEvent() {\n        var zoom = this.zoom = d3.behavior.zoom();\n        this.zoom = zoom;\n        var that = this;\n        var tempScale = d3.scale.linear()\n        zoom.x(this.scaleX)\n            .y(this.scaleY)\n\n            .on('zoom', function () {\n\n                if (that.mode != 'move') {\n                    //zoom.x(tempScale).y(tempScale)\n\n                } else {\n                    //  zoom.x(that.scaleX).y(that.scaleY);\n                    that.reBuildAxes();\n                    that.draw();\n                    that.buildAuxline();\n                }\n\n            })\n\n        this.rect = this.graph.append('rect')\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr('width', this.layout.w)\n            .attr('height', this.layout.h)\n            .attr('fill', 'none')\n            .attr('style', 'pointer-events: all;')\n            .call(zoom)\n\n\n        for (let e of Object.keys(event)) {\n\n            d3.select(this.container).on(event[e], function () {\n\n                let controller = {\n                    emit: true\n                }\n                //先触发内部绑定的事件\n                that.emit('_' + event[e], controller);\n                //内部事件对参数的赋值控制是否触发外部事件\n                if (controller.emit == false) return;\n\n                d3.event.preventDefault();\n                that.emit(event[e], d3.event, that.getMouse());\n\n\n            })\n        }\n\n\n        this.on('_' + event.down, function (ctrl) {\n            this.lastTarget = this.focusTarget;\n            this.focusTarget = this.activeTarget;\n            this.dragStart = false;\n            this.dragStartPoint = this.getMouse();\n            if (this.mode.indexOf('relation') < 0) {\n\n                this.lastTarget && this.lastTarget.blur()\n            }\n\n            //选择到一个目标时候禁止缩放\n            if (this.mode == 'move' && this.focusTarget) {\n                this.setMode('_move');\n                this.dragStart = true;\n            }\n            if (this.focusTarget) {\n                ctrl.emit = false;\n                // this.focusTarget.focus();\n                this.emit('choose', this.focusTarget)\n            } else {\n                var [x,y] = this.getMouse();\n                this.emit('clickBlank', [\n                    this.scaleX.invert(x),\n                    this.scaleY.invert(y)\n                ]);\n            }\n        })\n\n        this.on('_' + event.move, function (ctrl) {\n\n            if (!this.dragStart) {\n                var target = this.getSelect(this.getMouse());\n\n                //关系模式\n                if (this.mode.indexOf('relation') > -1 || this.mode.indexOf('addElement') > -1) {\n\n                    if (!target && this.activeTarget) {\n                        this.emit('hoverout', this.activeTarget);\n                        this.activeTarget = null;\n                    } else if (target && target != this.activeTarget) {\n                        this.activeTarget && this.emit('hoverout', this.activeTarget);\n                        this.emit('hover', target);\n                        this.activeTarget = target;\n                    } else {\n                        this.activeTarget = target;\n                        target && this.emit('hover', target);\n                    }\n\n                } else {\n                    if (target && target !== this.activeTarget) {\n                        this.activeTarget && this.activeTarget.blur();\n                        target.focus();\n                        this.activeTarget = target;\n                    }\n                    if (!target && this.activeTarget) {\n                        this.activeTarget.blur();\n                        this.activeTarget = null;\n                    }\n\n                }\n            }\n\n\n            if (this.focusTarget && this.mode == '_move') {\n                this.focusTarget.focus();\n                this.dragStart && this.emit('dragtarget', this.focusTarget)\n            }\n\n\n        });\n\n        this.on('_' + event.up, function (ctrl) {\n\n\n            this.dragStart && this.emit('dragtargetend', this.focusTarget);\n            this.dragStart = false;\n            if (this.mode == '_move') {\n                this.setMode('move');\n            }\n\n        });\n\n        this.on('dragtarget', function (target) {\n            var c = this.getMouse();\n            var [x, y] = this.dragStartPoint;\n            target.move([c[0] - x, c[1] - y])\n        });\n\n        this.on('dragtargetend', function (target) {\n            if (target) {\n                target.moveEnd();\n            }\n        })\n\n    }\n\n    /**\n     * 获取该位置所存在的图样\n     * @param px\n     * @param py\n     */\n    getSelect([px, py]) {\n        for (let shapes of Object.keys(this.content)) {\n\n            for (let p of this.content[shapes]) {\n                if (p.isContact([px, py])) {\n                    return p;\n                }\n            }\n\n        }\n        return null;\n    }\n\n    draw() {\n\n\n        this.emit('draw');\n    }\n\n    setMode(mode) {\n        var last = this.mode;\n        if (mode == 'move') {\n            this.zoom.x(this.scaleX).y(this.scaleY);\n        } else {\n            this.zoom.x(d3.scale.linear()).y(d3.scale.linear());\n        }\n        this.mode = mode;\n        if (mode != '_move') {\n            this.blurAll();\n\n        }\n        if (!((last == '_move' && mode == 'move') || (last == 'move' && mode == '_move'))) {\n            this.emit('modechange', mode);\n        }\n\n\n    }\n\n    add(type, config) {\n        if (this.mode != 'add') return;\n        var ret = this._add(type, config);\n        this.lastTarget && this.lastTarget.blur();\n        this.activeTarget = this.focusTarget = ret;\n        ret.focus();\n\n        return ret;\n\n    }\n\n    _add(type, config) {\n        if (!this.content[type]) {\n            this.content[type] = [];\n        }\n        var n = this.shapeManager.addByConfig(type, config);\n        console.log(this.content)\n        this.shapeMap[n.id] = n;\n        return n;\n    }\n\n    getMouse() {\n        return d3.mouse(this.graph[0][0]);\n    }\n\n    blurAll() {\n        Object.keys(this.content).forEach(name => {\n            this.content[name].forEach(shape => {\n                shape.blur()\n            })\n        });\n        this.activeTarget = this.focusTarget = this.lastTarget = null;\n    }\n\n    removeShape(shape) {\n        shape.destroy();\n    }\n\n    removeShapeRef(shape) {\n        var name = shape.name;\n        var i;\n        if(this.content[name]){\n            i = this.content[name].indexOf(shape);\n        }\n\n        if (i > -1) {\n            this.content[name].splice(i, 1);\n            delete this.shapeMap[shape.id]\n        }\n    }\n}\n\nexport default Chart;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/index.js","import relationManager from './managers/relationManager.js';\nimport shapeManager from './managers/shapeManager.js';\n\nexport {\n    relationManager,\n    shapeManager\n}\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/manager/index.js","/**\n * 关系管理\n * \n * \n * m= chart.relationManager = new manager()\n * \n * m.relations = {\n *      name : []\n * }\n * \n * m.addRelation('type')\n * \n * m.startRelation('type')\n * \n * m.currentRelation\n * \n * \n * \n */\nimport * as relations from '../../element/relation/index.js';\nimport Manager from '../manager.js';\nclass rManager extends Manager{\n    constructor(chart) {\n\n        super(...arguments,relations);\n\n    }\n\n    bindEvent(){\n\n        super.bindEvent();\n        this.chart.on('modechange', mode => {\n            if (mode.indexOf('relation.') < 0) {\n                this.stopElement()\n            } else {\n                let type = mode.split('.')[1];\n                this.typeName = type;\n                this.startElement(type);\n            }\n        });\n        this.chart.on('choose', shape => {\n            if (!this.start) return;\n            if (this.chart.mode.indexOf('relation') > -1) {\n\n                this.currentElement.addShape(shape)\n            }\n        });\n    }\n}\n\nexport default rManager;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/manager/managers/relationManager.js","/**\n * 关系管理\n *\n *\n * m= chart.relationManager = new manager()\n *\n * m.relations = {\n *      name : []\n * }\n *\n * m.addRelation('type')\n *\n * m.startRelation('type')\n *\n * m.currentRelation\n *\n *\n *\n */\nimport * as shapes from '../../element/shape/index.js';\nimport Manager from '../manager.js';\nclass sManager extends Manager{\n    constructor(chart) {\n\n        super(...arguments,shapes);\n        //描点的过程中产生的点\n        this.processPoints = [];\n    }\n\n    bindEvent(){\n        \n        \n        super.bindEvent();\n        this.chart.on('modechange', mode => {\n            this.stopElement()\n            if (mode.indexOf('addElement.') > -1) {\n                let type = mode.split('.')[1];\n                this.typeName = type;\n                this.startElement(type);\n            } \n        })\n\n        this.chart.on('clickBlank', p => {\n            if (!this.start) return;\n            if (this.chart.mode.indexOf('addElement') > -1) {\n\n                var point=this.addByConfig('point',{\n                    data:p\n                });\n                this.processPoints.push(point);\n                this.currentElement.addShape(point);\n            }\n            \n        });\n\n        this.chart.on('choose', shape => {\n            if (!this.start) return;\n            if (this.chart.mode.indexOf('addElement') > -1) {\n\n                this.currentElement.addShape(shape)\n            }\n        });\n    }\n\n    addByConfig(type,config){\n        var ret = new this.types[type](this,config,true);\n        this.addElement(ret);\n        return ret;\n    }\n\n    stopElement(){\n        super.stopElement();\n        this.processPoints.forEach(p=>{\n            p.destroy();\n        });\n        this.processPoints = [];\n    }\n\n    endCurrentElement(){\n        super.endCurrentElement();\n        this.processPoints = [];\n    }\n\n   \n}\n\nexport default sManager;\n\n\n// WEBPACK FOOTER //\n// ./app/js/chart/manager/managers/shapeManager.js"],"sourceRoot":""}